<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Crypto Exchange – Top Bar</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
  font-family: -apple-system, BlinkMacSystemFont, "SF Pro Text", system-ui, sans-serif;
  min-height: 100vh;
  color: #fff;

  /* ФОН НА ВСЮ СРАНИЦУ — КАК У ТОП-БАРА */
  background:
    radial-gradient(circle at 0 0, #151c51 0, #050814 50%, #03040c 100%);
}

    .topbar-wrapper {
  width: 100%;
  background: transparent;
  backdrop-filter: blur(10px);
  border-bottom: 1px solid rgba(255, 255, 255, 0.06);

  position: sticky;   /* ← держим бар сверху */
  top: 0;
  z-index: 1000;      /* поверх контента */
}

    .topbar {
      max-width: 1200px;
      margin: 0 auto;
      padding: 14px 24px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 32px;
    }

    .logo {
      font-weight: 700;
      font-size: 20px;
      letter-spacing: 0.03em;
      color: #ffffff;
      cursor: pointer;
      white-space: nowrap;
    }

    .nav {
      display: flex;
      gap: 28px;
      flex: 1;
      justify-content: center;
    }

    .nav a {
      font-size: 14px;
      color: rgba(255, 255, 255, 0.85);
      text-decoration: none;
      position: relative;
      padding-bottom: 3px;
      transition: color 0.18s ease;
      white-space: nowrap;
    }

    .nav a::after {
      content: "";
      position: absolute;
      left: 0;
      bottom: 0;
      width: 0;
      height: 2px;
      border-radius: 999px;
      background: linear-gradient(90deg, #267dff, #6f9bff);
      transition: width 0.18s ease;
    }

    .nav a:hover {
      color: #ffffff;
    }

    .nav a:hover::after {
      width: 100%;
    }

    .actions {
      display: flex;
      gap: 12px;
      white-space: nowrap;
    }

    .btn {
      font-size: 14px;
      padding: 8px 22px;
      border-radius: 999px;
      border: 1px solid transparent;
      background: transparent;
      color: #ffffff;
      cursor: pointer;
      transition: background 0.18s ease, color 0.18s ease, border-color 0.18s ease,
        box-shadow 0.18s ease, transform 0.08s ease;
    }

    .btn:active {
      transform: translateY(1px);
    }

    .btn-outline {
      border-color: rgba(255, 255, 255, 0.5);
      background: rgba(3, 6, 24, 0.4);
    }

    .btn-outline:hover {
      background: rgba(255, 255, 255, 0.06);
      box-shadow: 0 0 0 1px rgba(255, 255, 255, 0.12);
    }

    .btn-primary {
      background: linear-gradient(135deg, #1b6dff, #005bff);
      box-shadow: 0 0 24px rgba(0, 91, 255, 0.45);
    }

    .btn-primary:hover {
      background: linear-gradient(135deg, #2b7aff, #0b63ff);
      box-shadow: 0 0 28px rgba(0, 110, 255, 0.6);
    }

    /* Простой контент под баром, чтобы не было пустого экрана */
    main {
      max-width: 1200px;
      margin: 40px auto;
      padding: 0 24px;
      color: rgba(255, 255, 255, 0.4);
      font-size: 14px;
    }

    /* Адаптивность */
    @media (max-width: 900px) {
      .nav {
        gap: 20px;
      }

      .topbar {
        padding-inline: 16px;
      }
    }

    @media (max-width: 720px) {
      .nav {
        display: none; /* для первого шага просто скрываем меню на мобилке */
      }

      .topbar {
        justify-content: space-between;
      }
    }

    /* ===== HERO ===== */

.hero {
  min-height: auto;
  display: flex;
  align-items: center;
  justify-content: center;
  text-align: center;
  padding-bottom: 40px;
  padding-top: 120px;
margin-bottom: 100px;
}



/* Контент */
.hero-content {
  position: relative;
  z-index: 2;
  max-width: 820px;
}

.hero-title {
  font-size: clamp(36px, 5vw, 56px);
  line-height: 1.1;
  font-weight: 800;
  margin-bottom: 18px;
  letter-spacing: -0.03em;
}

.hero-subtitle {
  font-size: 16px;
  line-height: 1.6;
  color: rgba(255, 255, 255, 0.78);
  max-width: 640px;
  margin: 0 auto 32px;
}

/* Кнопка */
.hero-btn {
  padding: 14px 40px;
  border-radius: 999px;
  font-size: 16px;
  font-weight: 600;
  color: #fff;
  background: linear-gradient(135deg, #1b6dff, #005bff);
  border: none;
  cursor: pointer;
  box-shadow: 0 20px 50px rgba(0, 90, 255, 0.55);
  transition: transform 0.15s ease, box-shadow 0.15s ease;
}

.hero-btn:hover {
  transform: translateY(-2px);
  box-shadow: 0 26px 60px rgba(0, 110, 255, 0.75);
}

.hero-btn:active {
  transform: translateY(0);
}

/* Адаптив */
@media (max-width: 600px) {
  .hero {
    padding-top: 40px;
  }

  .hero-subtitle {
    font-size: 15px;
  }
}

.markets {
  max-width: 1200px;
  margin: 0px auto 60px;
  padding: 0 24px;
}

.markets-wrap {
  background: transparent;
  border-radius: 18px;
  border: 1px solid rgba(255,255,255,0.08);
  overflow: hidden;
}

.markets-header,
.market-row {
  display: grid;
  grid-template-columns: 3fr 1.5fr 1.5fr 2fr 1.5fr 1.5fr 1fr;
  padding: 18px 20px;
  align-items: center;
}

.markets-header {
  font-size: 13px;
  color: rgba(255,255,255,0.55);
  border-bottom: 1px solid rgba(255,255,255,0.05);
}

.market-row {
  font-size: 14px;
  border-bottom: 1px solid rgba(255,255,255,0.04);
}

.asset {
  display: flex;
  align-items: center;
  gap: 14px;
}

.coin {
  width: 38px;
  height: 38px;
  border-radius: 50%;
  overflow: hidden;
  flex-shrink: 0;
  background: rgba(255, 255, 255, 0.04);
  display: flex;
  align-items: center;
  justify-content: center;
}

.coin img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  border-radius: 50%;
  display: block;
}


.symbol {
  font-weight: 600;
}

.symbol span {
  font-weight: 400;
  color: rgba(255,255,255,0.5);
  margin-left: 6px;
}

.up { color: #00e3a1; }
.down { color: #ff4d6d; }

.sparkline {
  height: 36px;
  border-radius: 999px;
  background: linear-gradient(90deg, transparent, rgba(0,120,255,0.6));
}

.sparkline.red {
  background: linear-gradient(90deg, transparent, rgba(255,77,109,0.65));
}

.sparkline.green {
  background: linear-gradient(90deg, transparent, rgba(0,227,161,0.7));
}

.action-btn {
  padding: 8px 22px;
  border-radius: 999px;
  border: 1px solid #2b7aff;
  background: #0a1c3f;
  color: #2b7aff;
  font-weight: 500;
  cursor: pointer;
}

.action-btn:hover {
  background: rgba(43,122,255,0.2);
}

.markets-footer {
  display: flex;
  justify-content: center;
  margin-top: 28px;
}

.more-btn {
  padding: 14px 38px;
  border-radius: 999px;
  font-size: 15px;
  font-weight: 600;
  color: #fff;
  border: none;
  cursor: pointer;

  background: linear-gradient(135deg, #1b6dff, #005bff);
  box-shadow: 0 20px 50px rgba(0, 90, 255, 0.55);

  transition: transform 0.15s ease, box-shadow 0.15s ease;
}

.more-btn:hover {
  transform: translateY(-2px);
  box-shadow: 0 26px 60px rgba(0, 110, 255, 0.75);
}

.more-btn:active {
  transform: translateY(0);
}

.spark {
  width: 140px;
  height: 36px;
}

.spark svg {
  width: 100%;
  height: 100%;
}

.spark path {
  stroke: #3b82f6;
  filter: drop-shadow(0 0 6px rgba(59,130,246,0.6));
}



.spark svg path {
  stroke-width: 2;
  stroke-linecap: round;
  stroke-linejoin: round;
}

.spark svg {
    background: transparent !important;
}

.spark svg path {
    fill: none !important;
}

.pager-btn {
  padding: 10px 18px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,0.35);
  background: rgba(3, 6, 24, 0.7);
  color: #fff;
  cursor: pointer;
  font-size: 16px;
  margin: 0 6px;
  transition: background 0.15s ease, transform 0.08s ease, opacity 0.15s ease;
}

.pager-btn:hover:not(:disabled) {
  background: rgba(255,255,255,0.08);
  transform: translateY(-1px);
}

.pager-btn:disabled {
  opacity: 0.35;
  cursor: default;
  transform: none;
}

.forex-page .markets {
  margin: 0 auto 12px;
}

.steps {
  max-width: 1200px;
  margin: 50px auto 170px;
  padding: 0 24px;
  margin-top: 50px;
}

/* общий контейнер без фона и рамки */
.steps-inner {
  background: none;
  border: none;
  box-shadow: none;
  padding: 40px 32px 46px;
}

.steps-title {
  text-align: center;
  font-size: clamp(26px, 3vw, 32px);
  font-weight: 700;
  margin-bottom: 32px;
}

/* три карточки в ряд */
.steps-grid {
  display: grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  gap: 24px;
  align-items: flex-start;
}

/* карточка шага */
.step-card {
  text-align: center;
}

/* кружок под иконку */
.step-icon {
  width: 80px;
  height: 80px;
  margin: 0 auto 18px;
  border-radius: 50%;
  background: #ffffff !important;   /* ← белый фон */
  display: flex;
  align-items: center;
  justify-content: center;
}

/* сами картинки */
.step-icon img {
  width: 52px;
  height: 52px;
  object-fit: contain;
}

/* разные градиенты под каждый шаг */
.step-icon-1 {
  background: radial-gradient(circle at 30% 20%, #ff4baf33 0, transparent 45%),
              linear-gradient(135deg, #ff4baf, #8b5cff);
}
.step-icon-2 {
  background: radial-gradient(circle at 30% 20%, #ffb34733 0, transparent 45%),
              linear-gradient(135deg, #ffb347, #ff6a00);
}
.step-icon-3 {
  background: radial-gradient(circle at 30% 20%, #3ee9b233 0, transparent 45%),
              linear-gradient(135deg, #3ee9b2, #1b9dff);
}

.step-heading {
  font-size: 18px;
  font-weight: 600;
  margin-bottom: 8px;
}

.step-text {
  font-size: 14px;
  color: rgba(255,255,255,0.7);
  line-height: 1.6;
}

/* адаптив: на мобиле в колонку */
@media (max-width: 900px) {
  .steps-inner {
    padding: 32px 20px 36px;
  }

  .steps-grid {
    grid-template-columns: 1fr;
  }
}

.faq {
  max-width: 900px;
  margin: 0 auto 120px;
  padding: 0 24px;
}

.faq-inner {
  /* без фона, чтобы плавно вписывалось в фон страницы */
}

.faq-title {
  font-size: clamp(24px, 3vw, 28px);
  font-weight: 700;
  margin-bottom: 24px;
}

.faq-list {
  border-top: 1px solid rgba(255,255,255,0.08);
}

/* одна строка FAQ */
.faq-item {
  border-bottom: 1px solid rgba(255,255,255,0.08);
}

/* шапка вопроса */
.faq-head {
  width: 100%;
  padding: 14px 0;
  display: flex;
  align-items: center;
  gap: 16px;
  background: transparent;
  border: none;
  color: inherit;
  cursor: pointer;
}

/* номер в маленьком прямоугольнике */
.faq-index {
  width: 28px;
  height: 28px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,0.25);
  display: inline-flex;
  align-items: center;
  justify-content: center;
  font-size: 13px;
}

/* текст вопроса */
.faq-question {
  flex: 1;
  text-align: left;
  font-size: 15px;
}

/* плюсик справа */
.faq-icon {
  font-size: 20px;
  line-height: 1;
  transition: transform 0.18s ease;
}

/* при открытии — иконка вращается */
.faq-item.open .faq-icon {
  transform: rotate(45deg); /* становится крестиком */
}

/* тело ответа */
.faq-body {
  max-height: 0;
  overflow: hidden;
  transition: max-height 0.22s ease;
  font-size: 14px;
  color: rgba(255,255,255,0.7);
  padding-right: 32px;
}

/* когда открыт */
.faq-item.open .faq-body {
  padding-bottom: 12px;
  max-height: 200px; /* хватит для короткого ответа */
}

.faq-title {
  font-size: clamp(28px, 4vw, 34px);
  margin-bottom: 32px; /* чуть больше */
}

.faq-head {
  padding: 18px 0; /* больше кликабельная область */
}

.faq-question {
  font-size: 17px; /* крупнее текст вопроса */
}

.faq-body {
  font-size: 15px;
  line-height: 1.55;
}

.partners-strip {
  width: 100%;
  overflow: hidden;
  padding: 30px 0;
  margin-top: 80px;
}

.partners-strip img {
  height: 32px;              /* размер логотипов */
  margin: 0 32px;
  opacity: 0.8;
  transition: opacity 0.2s ease;
}

.partners-strip img {
  filter: brightness(1.3); /* делает светлее */
  opacity: 1;              /* полностью белые */
}

.partners-strip img:hover {
  opacity: 1;
}

.partners-track {
  display: flex;
  align-items: center;
  white-space: nowrap;
  animation: partners-scroll 22s linear infinite;
}

@keyframes partners-scroll {
  0% { transform: translateX(0); }
  100% { transform: translateX(-50%); }
}

.footer {
  
  border-top: 1px solid rgba(255,255,255,0.06);
  padding: 40px 24px 36px;
}

.footer-inner {
  max-width: 1200px;
  margin: 0 auto;
  display: flex;
  gap: 48px;
  align-items: flex-start;
}

.footer-brand {
  flex: 0 0 260px;
}

.footer-logo {
  font-size: 24px;
  font-weight: 700;
  margin-bottom: 18px;
}

.footer-socials {
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
  margin-bottom: 18px;
}

.footer-socials a {
  width: 32px;
  height: 32px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,0.35);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 13px;
  text-decoration: none;
  color: #fff;
  opacity: 0.9;
  transition: background 0.15s ease, opacity 0.15s ease, transform 0.08s ease;
}

.footer-socials a:hover {
  background: rgba(255,255,255,0.1);
  opacity: 1;
  transform: translateY(-1px);
}

.footer-copy {
  font-size: 12px;
  color: rgba(255,255,255,0.55);
}

/* правые колонки */
.footer-columns {
  flex: 1;
  display: grid;
  grid-template-columns: repeat(4, minmax(0, 1fr));
  gap: 32px;
}

.footer-col h4 {
  font-size: 15px;
  font-weight: 600;
  margin-bottom: 14px;
}

.footer-col a {
  display: block;
  font-size: 14px;
  color: rgba(255,255,255,0.7);
  text-decoration: none;
  margin-bottom: 6px;
  transition: color 0.15s ease;
}

.footer-col a:hover {
  color: #ffffff;
}

/* адаптив */
@media (max-width: 900px) {
  .footer-inner {
    flex-direction: column;
    gap: 32px;
  }

  .footer-brand {
    flex: 1;
  }

  .footer-columns {
    grid-template-columns: repeat(2, minmax(0, 1fr));
    gap: 24px;
  }
}

@media (max-width: 600px) {
  .footer-columns {
    grid-template-columns: 1fr;
  }
}

/* ===== SIGNUP PAGE ===== */

.signup-page {
  min-height: calc(100vh - 60px); /* минус высота топ-бара */
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 40px 16px 60px;
}

.signup-card {
  width: 100%;
  max-width: 420px;
  background: rgba(5, 8, 20, 0.9);
  border-radius: 24px;
  padding: 32px 28px 30px;
  box-shadow: 0 24px 80px rgba(0, 0, 0, 0.75);
  backdrop-filter: blur(20px);
}

.signup-title {
  font-size: 26px;
  font-weight: 700;
  margin-bottom: 20px;
}

/* Tabs */
.signup-tabs {
  display: inline-flex;
  padding: 4px;
  border-radius: 999px;
  background: rgba(255, 255, 255, 0.04);
  margin-bottom: 18px;
}

.signup-tab {
  border: none;
  background: transparent;
  padding: 8px 20px;
  border-radius: 999px;
  color: rgba(255, 255, 255, 0.7);
  font-size: 14px;
  cursor: pointer;
}

.signup-tab-active {
  background: #ffffff;
  color: #000000;
}

/* поля */
.signup-field {
  margin-bottom: 14px;
}

.signup-field.optional label {
  display: block;
  font-size: 12px;
  color: rgba(255,255,255,0.6);
  margin-bottom: 6px;
}

.signup-field input {
  width: 100%;
  padding: 11px 12px;
  border-radius: 10px;
  border: none;
  outline: none;
  background: rgba(255, 255, 255, 0.06);
  color: #fff;
  font-size: 14px;
}

.signup-field input::placeholder {
  color: rgba(255,255,255,0.45);
}

/* чекбокс */
.signup-checkbox {
  display: flex;
  align-items: flex-start;
  gap: 8px;
  font-size: 12px;
  color: rgba(255,255,255,0.7);
  margin-top: 6px;
  margin-bottom: 18px;
}

.signup-checkbox input {
  margin-top: 2px;
}

/* кнопка Sign Up */
.signup-btn {
  width: 100%;
  padding: 12px 0;
  border-radius: 999px;
  border: none;
  cursor: pointer;
  font-size: 15px;
  font-weight: 600;
  color: #fff;
  background: linear-gradient(135deg, #1b6dff, #005bff);
  box-shadow: 0 15px 40px rgba(0, 90, 255, 0.6);
  margin-bottom: 18px;
}

/* Or */
.signup-or {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 10px;
  font-size: 12px;
  color: rgba(255,255,255,0.5);
  margin-bottom: 16px;
}

.signup-or span {
  flex: 1;
  height: 1px;
  background: rgba(255,255,255,0.12);
}

/* соцкнопки */
.signup-social {
  width: 100%;
  padding: 10px 0;
  border-radius: 999px;
  border: none;
  background: rgba(255,255,255,0.08);
  color: #fff;
  font-size: 14px;
  cursor: pointer;
  margin-bottom: 10px;
}

.signup-footer {
  text-align: center;
  font-size: 13px;
  color: rgba(255,255,255,0.6);
  margin-top: 6px;
}

.signup-footer a {
  color: #2b7aff;
  text-decoration: none;
}

/* ===== MODAL (Security Verification) ===== */

.modal-backdrop {
  position: fixed;
  inset: 0;
  background: rgba(3, 4, 12, 0.8);
  display: none;
  align-items: center;
  justify-content: center;
  z-index: 999;
}

.modal-backdrop.show {
  display: flex;
}

.modal-card {
  width: 100%;
  max-width: 480px;
  background: #ffffff;
  color: #000;
  border-radius: 20px;
  padding: 26px 28px 24px;
}

.modal-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 16px;
}

.modal-title {
  font-size: 20px;
  font-weight: 700;
}

.modal-close {
  border: none;
  background: transparent;
  font-size: 20px;
  cursor: pointer;
}

.modal-body {
  font-size: 14px;
  margin-bottom: 16px;
}

.modal-input {
  width: 100%;
  padding: 11px 12px;
  border-radius: 10px;
  border: none;
  background: #f3f4f6;
  margin-bottom: 10px;
}

.modal-timer {
  font-size: 14px;
  color: #3b82f6;
  margin-bottom: 18px;
}

.modal-confirm {
  width: 100%;
  padding: 12px 0;
  border-radius: 999px;
  border: none;
  background: #005bff;
  color: #fff;
  font-weight: 600;
  cursor: pointer;
}

.signup-btn:disabled,
.signup-btn.disabled {
  opacity: 0.4;
  cursor: not-allowed;
  box-shadow: none;
  background: linear-gradient(135deg, #1b6dff44, #005bff44);
}

/* Общий слой для страниц авторизации/сброса */
.auth-page{
  position: fixed;
  inset: 0;
  display: none;              /* показываем через JS */
  align-items: center;
  justify-content: center;
  padding: 120px 20px 40px;   /* чтобы topbar не перекрывал */
  z-index: 9999;
}

/* Контейнер формы (карточка) */
.auth-card{
  width: min(520px, 92vw);
  background: rgba(10, 14, 25, 0.75);
  border: 1px solid rgba(255,255,255,0.08);
  border-radius: 18px;
  padding: 26px;
  backdrop-filter: blur(12px);
}

/* Поля */
.auth-card input{
  width: 100%;
  height: 44px;
  border-radius: 10px;
  border: 1px solid rgba(255,255,255,0.12);
  background: rgba(255,255,255,0.06);
  color: #fff;
  padding: 0 12px;
  outline: none;
}

.auth-card button{
  width: 100%;
  height: 44px;
  border-radius: 12px;
  border: none;
  cursor: pointer;
}

@media (max-width: 720px) {
  .markets { padding: 0 12px; }

  .markets-header { display: none; }

  .market-row {
    grid-template-columns: 1fr;
    gap: 10px;
    padding: 14px 14px;
  }

  /* чтобы элементы красиво располагались */
  .market-row .asset { order: 1; }
  .market-row .price { order: 2; font-size: 16px; font-weight: 700; }
  .market-row .change { order: 3; }
  .market-row .spark { order: 4; width: 100%; }
  .market-row .market-cap { order: 5; color: rgba(255,255,255,0.65); }
  .market-row .volume { order: 6; color: rgba(255,255,255,0.65); }
  .market-row .action-btn { order: 7; width: 100%; }
}

/* ===== ABOUT PAGE (AstraX) ===== */
.about-wrap{
  max-width: 1200px;
  margin: 0 auto;
  padding: 40px 24px 140px;
}

.about-hero{
  text-align:center;
  padding: 10px 0 60px;
}

.about-title{
  font-size: clamp(44px, 6vw, 72px);
  font-weight: 700;
  margin-bottom: 22px;
  letter-spacing: -0.02em;
}

.about-hero-text{
  max-width: 980px;
  margin: 0 auto 16px;
  font-size: 15px;
  line-height: 1.75;
  color: rgba(255,255,255,0.75);
}

.about-block{
  margin-top: 140px;
}

.about-split{
  display:grid;
  grid-template-columns: 1.1fr 0.9fr;
  gap: 40px;
  align-items: center;
}

.about-left{ max-width: 720px; }

.about-right{
  min-height: 240px;
  border-radius: 18px;
  background: rgba(255,255,255,0.03);
  border: 1px solid rgba(255,255,255,0.06);
}

.about-h2{
  font-size: clamp(42px, 6vw, 64px);
  line-height: 1.05;
  font-weight: 700;
  margin-bottom: 16px;
  letter-spacing: -0.02em;
}

.dot{
  color:#2b7aff;
}

.about-p{
  font-size: 15px;
  line-height: 1.75;
  color: rgba(255,255,255,0.75);
  margin-bottom: 14px;
}

.about-center{ text-align:center; }

.about-h2-center{
  font-size: clamp(44px, 6vw, 72px);
  font-weight: 700;
  margin-bottom: 14px;
  letter-spacing: -0.02em;
}

.about-sub{
  max-width: 980px;
  margin: 0 auto 36px;
  font-size: 14px;
  line-height: 1.8;
  color: rgba(255,255,255,0.7);
}

.about-cards{
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap: 28px;
  margin-top: 28px;
}

.about-card{
  text-align:center;
  padding: 44px 28px 38px;
  border-radius: 22px;
  background: rgba(255,255,255,0.03);
  border: 1px solid rgba(255,255,255,0.06);
}

.about-card-title{
  font-size: 28px;
  font-weight: 700;
  margin-bottom: 10px;
}

.about-card-text{
  font-size: 14px;
  line-height: 1.7;
  color: rgba(255,255,255,0.65);
  max-width: 420px;
  margin: 0 auto 28px;
}

.about-art{
  height: 180px;
  margin: 0 auto;
  width: min(380px, 90%);
  border-radius: 18px;
  background: rgba(0,0,0,0.15);
  position: relative;
  overflow: hidden;
}

/* простая “графика” как на примере */
.mission-art::before{
  content:"";
  position:absolute;
  left: 50%;
  top: 38%;
  transform: translate(-50%, -50%);
  width: 140px;
  height: 70px;
  background: #fff;
  border-radius: 0 0 140px 140px;
}
.mission-art::after{
  content:"";
  position:absolute;
  left: 50%;
  top: 72%;
  transform: translate(-50%, -50%);
  width: 220px;
  height: 120px;
  background: linear-gradient(135deg,#0b63ff,#2b7aff);
  clip-path: polygon(50% 0, 78% 100%, 62% 100%, 50% 55%, 38% 100%, 22% 100%);
  border-radius: 18px;
}

.vision-art::before{
  content:"";
  position:absolute;
  left: 50%;
  top: 46%;
  transform: translate(-50%, -50%);
  width: 120px;
  height: 120px;
  background: #fff;
  border-radius: 50%;
}
.vision-art::after{
  content:"";
  position:absolute;
  left: 50%;
  top: 62%;
  transform: translate(-50%, -50%);
  width: 220px;
  height: 110px;
  background: linear-gradient(135deg,#0b63ff,#2b7aff);
  border-radius: 0 0 220px 220px;
  opacity: 0.95;
}

.values-grid{
  margin-top: 40px;
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap: 36px 40px;
  text-align:left;
  align-items:start;
}

/* расширяем только блок Values */
.about-block.about-center{
  max-width: 1400px;
  margin-left: auto;
  margin-right: auto;
}

.value-item{
  display:flex;
  gap: 22px;
  align-items:flex-start;
}

.value-icon{
  width: auto;
  height: auto;
  min-width: 48px;

  display: flex;
  align-items: center;
  justify-content: center;

  background: none;
  border: none;
}

.value-title{
  font-size: 18px;
  font-weight: 700;
  margin-bottom: 6px;
}

.value-text{
  font-size: 14px;
  line-height: 1.65;
  color: rgba(255,255,255,0.65);
}

.service-split .about-right{
  background: transparent;
  border: none;
  min-height: 280px;
  display:flex;
  align-items:center;
  justify-content:center;
}

.service-box{
  width: min(420px, 92%);
  height: 240px;
  border-radius: 14px;
  border: 1px solid rgba(255,255,255,0.4);
  position: relative;
  background: rgba(255,255,255,0.02);
}

.service-badge{
  position:absolute;
  top: 44px;
  left: 50%;
  transform: translateX(-50%);
  width: 120px;
  height: 120px;
  border-radius: 50%;
  border: 2px solid rgba(43,122,255,0.9);
  display:flex;
  align-items:center;
  justify-content:center;
  font-weight: 800;
  font-size: 28px;
}

.service-line{
  position:absolute;
  left: 50%;
  bottom: 34px;
  transform: translateX(-50%);
  width: 220px;
  height: 6px;
  border-radius: 99px;
  background: rgba(255,255,255,0.35);
}

/* адаптив */
@media (max-width: 900px){
  .about-split{ grid-template-columns: 1fr; }
  .about-right{ min-height: 200px; }
  .about-cards{ grid-template-columns: 1fr; }
  .values-grid{ grid-template-columns: 1fr; }
}

/* больше расстояние между блоками */
.about-block{
  margin-top: 200px;
}

/* убрать правые рамки */
.about-split .about-right{
  display: none;
}

/* центрировать контент */
.about-split{
  grid-template-columns: 1fr;
  text-align: center;
}

.about-left{
  margin: 0 auto;
}

/* убрать синие точки */
.dot{
  display: none;
}

.about-link{
  color: #2b7aff;
  font-weight: 500;
}

.value-icon{
  width: 96px;
  height: 96px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;

  
}

.value-icon img{
  width: 72px;
  height: 72px;
  object-fit: contain;
}

/* центрирование страницы */
.feedback-page{
  min-height: 100vh;
  display: flex;
  align-items: flex-start;
  justify-content: center;
  padding: 110px 16px 40px;  /* ↑ форма поднимется */
}

/* .feedback-container{
  width: 100%;
  max-width: 560px;
} */

/* дополнительно уменьшаем отступ между заголовком и карточкой */
#feedback-page .feedback-block{
  margin-top: 24px !important;
}

#feedback-page .about-wrap{
  width: 100%;
  max-width: 560px;
  margin: 0 auto;          /* центрирует */
}

/* #feedback-page .about-card{
  margin: 0 auto;
} */

/* форма */
.feedback-form{ display: grid; gap: 14px; }
.feedback-label{ display: grid; gap: 6px; font-size: 14px; }
.feedback-input{
  width: 100%;
  padding: 12px 12px;
  border-radius: 8px;
  border: 1px solid rgba(0,0,0,.2);
  font-size: 14px;
}
.feedback-textarea{ min-height: 120px; resize: vertical; }
.feedback-submit{
  width: 100%;
  padding: 14px 16px;
  border: none;
  border-radius: 10px;
  cursor: pointer;
}

.toast{
  position: fixed;
  top: 24px;
  left: 50%;
  transform: translateX(-50%);
  background: rgba(20,20,20,.95);
  color: #fff;
  padding: 14px 20px;
  border-radius: 8px;
  font-size: 14px;
  opacity: 0;
  pointer-events: none;
  transition: opacity .25s ease;
  z-index: 9999;
}
.toast.show{ opacity: 1; }

/* чтобы select/textarea выглядели как твои тёмные инпуты */
#feedback-page .signup-field select,
#feedback-page .signup-field textarea{
  width: 100%;
  background: rgba(255,255,255,0.07);
  border: 1px solid rgba(255,255,255,0.08);
  color: #fff;
  border-radius: 12px;
  padding: 14px 16px;
  outline: none;
  font-size: 14px;
}

#feedback-page .signup-field textarea{
  min-height: 140px;
  resize: vertical;
}

/* ===== FIX FEEDBACK CENTERING ===== */
#feedback-page .about-wrap{
  max-width: 560px;   /* как карточка */
  padding: 0;         /* ❗ убираем боковые отступы */
  margin: 0 auto;
}

/* ===== DARK SELECT DROPDOWN ===== */
.feedback-input,
.feedback-input option {
  background-color: #0b1022;
  color: #ffffff;
}

.feedback-input option {
  padding: 12px;
}

/* убираем системный светлый стиль */
.feedback-input {
  appearance: none;
  -webkit-appearance: none;
  -moz-appearance: none;
}

/* ===== Custom dark select (Feedback) ===== */
#feedback-page .ax-select { position: relative; width: 100%; }

#feedback-page .ax-select-btn{
  width: 100%;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;

  background: rgba(255,255,255,0.07);
  border: 1px solid rgba(255,255,255,0.08);
  color: #fff;
  border-radius: 12px;
  padding: 14px 16px;
  cursor: pointer;
}

#feedback-page .ax-select-btn:focus{
  outline: none;
  border-color: rgba(43,122,255,0.65);
  box-shadow: 0 0 0 3px rgba(43,122,255,0.15);
}

#feedback-page .ax-select-arrow{ opacity: .8; }

#feedback-page .ax-select-menu{
  position: absolute;
  left: 0;
  right: 0;
  top: calc(100% + 8px);
  z-index: 9999;

  background: rgba(10, 14, 28, 0.98);
  border: 1px solid rgba(255,255,255,0.10);
  border-radius: 12px;
  padding: 8px;
  display: none;

  backdrop-filter: blur(10px);
}

#feedback-page .ax-select.open .ax-select-menu{ display: block; }

#feedback-page .ax-select-opt{
  width: 100%;
  text-align: left;
  border: 0;
  background: transparent;
  color: #fff;
  padding: 10px 12px;
  border-radius: 10px;
  cursor: pointer;
}

#feedback-page .ax-select-opt:hover{
  background: rgba(43,122,255,0.18);
}
/* ===== Custom file upload ===== */
.file-upload{
  display: flex;
  align-items: center;
  gap: 14px;
  cursor: pointer;
}

.file-upload-btn{
  width: 48px;
  height: 48px;
  border-radius: 12px;
  display: flex;
  align-items: center;
  justify-content: center;

  background: rgba(255,255,255,0.08);
  border: 1px solid rgba(255,255,255,0.12);
  color: #fff;
  font-size: 28px;
  font-weight: 300;
  line-height: 1;

  transition: background .2s ease, border-color .2s ease;
}

.file-upload:hover .file-upload-btn{
  background: rgba(43,122,255,0.18);
  border-color: rgba(43,122,255,0.6);
}

.file-upload-text{
  font-size: 14px;
  opacity: .85;
}

/* ===== Trading Fees table ===== */
#fees-page .about-card{
  padding: 0;               /* чтобы таблица легла как на скрине */
  overflow: hidden;         /* чтобы линии не вылезали за рамку */
}

.fees-table-wrap{
  width: 100%;
}

.fees-table{
  width: 100%;
  border-collapse: collapse;
  color: rgba(255,255,255,0.92);
  font-size: 14px;
}

.fees-table thead th{
  text-align: left;
  font-weight: 500;
  color: rgba(255,255,255,0.7);
  padding: 22px 26px;
  border-bottom: 1px solid rgba(255,255,255,0.08);
}

.fees-table tbody td{
  padding: 22px 26px;
  border-bottom: 1px solid rgba(255,255,255,0.08);
  font-weight: 600;
}

.fees-table tbody tr:last-child td{
  border-bottom: none;
}

/* выравнивание чисел как на скрине */
.fees-table th:nth-child(2),
.fees-table th:nth-child(3),
.fees-table td:nth-child(2),
.fees-table td:nth-child(3){
  text-align: center;
}

/* ===== CABINET (Dashboard) ===== */
.cabinet-page{
  display:none;
  min-height: 100vh;
  background:#000;
  padding-top:0; /* чтобы контент не залезал под topbar */
}
/* чтобы кабинет НЕ центрировался */
.cabinet-inner{
  max-width: none;
  margin: 0;
  padding: 0;
  width: 100%;
}


.actions.actions-auth{
  display:flex;
  align-items:center;
  gap:12px;
}

.top-deposit-btn{
  background:#2b7aff;
  color:#fff;
  border:none;
  padding:8px 14px;
  border-radius:10px;
  font-weight:700;
  cursor:pointer;
}

.top-link{
  color:#fff;
  opacity:.9;
  text-decoration:none;
  font-weight:600;
}

.top-icon-btn{
  position:relative;
  width:36px;
  height:36px;
  border-radius:10px;
  border:1px solid rgba(255,255,255,.12);
  background:rgba(255,255,255,.06);
  color:#fff;
  display:flex;
  align-items:center;
  justify-content:center;
  cursor:pointer;
}

.top-badge{
  position:absolute;
  top:-6px;
  right:-6px;
  min-width:18px;
  height:18px;
  padding:0 6px;
  border-radius:999px;
  background:#ff3b30;
  color:#fff;
  font-size:12px;
  line-height:18px;
  font-weight:700;
}

.assets-dropdown{
  position:relative;
}

.assets-trigger{
  background:transparent;
  border:none;
  cursor:pointer;
  padding:6px 8px;
  border-radius:10px;
}

.assets-menu{
  position:absolute;
  top:48px;
  left:0;
  width:360px;
  max-width: calc(100vw - 24px);
  z-index:10000;

  opacity:0;
  transform: translateY(8px);
  pointer-events:none;
  transition: .18s ease;
}

.assets-dropdown:hover .assets-menu,
.assets-dropdown:focus-within .assets-menu{
  opacity:1;
  transform: translateY(0);
  pointer-events:auto;
}

.assets-card{
  background: rgba(18,18,18,.92);
  border: 1px solid rgba(255,255,255,.10);
  border-radius:16px;
  padding:16px;
  box-shadow: 0 20px 60px rgba(0,0,0,.55);
  backdrop-filter: blur(10px);
}

.assets-total-title{
  color: rgba(255,255,255,.8);
  font-size: 13px;
  margin-bottom: 8px;
}

.assets-total-value .big{
  font-size: 34px;
  font-weight: 800;
  letter-spacing: .2px;
}

.assets-total-value .unit{
  color: rgba(255,255,255,.65);
  font-size: 12px;
  margin-left: 6px;
}

.assets-total-sub{
  color: rgba(255,255,255,.55);
  font-size: 12px;
  margin-top: 4px;
}

.assets-note{
  color: rgba(255,255,255,.45);
  font-size: 12px;
  margin-top: 10px;
}

.assets-actions{
  display:flex;
  gap:12px;
  margin-top: 14px;
}

.assets-btn{
  flex:1;
  height: 40px;
  border-radius: 999px;
  font-weight: 700;
  border: none;
  cursor: pointer;
}

.assets-btn.ghost{
  background: rgba(255,255,255,.08);
  color:#fff;
  border: 1px solid rgba(255,255,255,.10);
}

.assets-btn.primary{
  background: #2b7aff;
  color:#fff;
}

.assets-section{
  margin-top: 14px;
}

.assets-section-title{
  color: rgba(255,255,255,.45);
  font-size: 12px;
  margin: 10px 0 6px;
}

.assets-item{
  display:block;
  padding:10px 10px;
  border-radius:12px;
  color:#fff;
  text-decoration:none;
  font-weight: 600;
  opacity:.9;
}

.assets-item:hover{
  background: rgba(255,255,255,.06);
}

.assets-dropdown.open .assets-menu{
  opacity:1;
  transform: translateY(0);
  pointer-events:auto;
}

/* ===== CABINET MODE ===== */
body.cabinet-mode .topbar-wrapper{
  background:#000 !important;
  border-bottom: 1px solid rgba(255,255,255,.08);
}
  

body.cabinet-mode .footer{
  display: none !important; /* футер скрыть */
}

/* контейнер кабинета */ 
/* .cabinet-page{
  display:none;
  padding-top: 80px; /* под фиксированный топбар */
  /* min-height: 100vh;
  background: #000;
} */

/* layout: sidebar + content */



.cabinet-content-wrap{
  padding: 24px 32px;
}

/* sidebar */
.cabinet-sidebar{
  background: rgba(18,18,18,.9);
  border: 1px solid rgba(255,255,255,.08);
  border-radius: 16px;
  overflow: hidden;
}

.cabinet-nav a{
  display:flex;
  align-items:center;
  gap: 14px;
  padding: 18px 18px;
  color:#fff;
  text-decoration:none;
  font-weight: 700;
  opacity: .92;
  border-left: 3px solid transparent;
}

.cabinet-nav a:hover{
  background: rgba(255,255,255,.05);
}

.cabinet-nav a.active{
  background: rgba(255,255,255,.06);
  border-left-color: #2b7aff;
}

.cabinet-nav .divider{
  height: 1px;
  background: rgba(255,255,255,.08);
  margin: 8px 0;
}

/* простые иконки-кружочки (если без svg) */
.cabinet-ic{
  width: 20px;
  height: 20px;
  opacity: .8;
  display:inline-flex;
  align-items:center;
  justify-content:center;
}

.cabinet-layout{
  width: 100%;
  margin: 0;
  padding: 24px 32px;
  display: grid;
  grid-template-columns: 320px 1fr;
  gap: 24px;
}

/* мобилка */
@media (max-width: 900px){
  .cabinet-layout{
    grid-template-columns: 1fr;
  }
}

body.cabinet-mode .cabinet-layout{
  min-height: calc(100vh - 64px); /* 64px = высота топбара */
  display: grid !important;
  grid-template-columns: 320px 1fr !important;
  gap: 24px;
  align-items: stretch; /* КЛЮЧЕВО */
}
body.cabinet-mode .cabinet-sidebar{
  width: 320px;
}

body.cabinet-mode .cabinet-sidebar{
   height: 100%;
  align-self: stretch;
  background: transparent !important;
  border: none !important;
  border-radius: 0 !important;
  position: sticky;
  top: 64px; /* высота топбара */
}

body.cabinet-mode .cabinet-nav{
  padding: 12px;
}

body.cabinet-mode .cabinet-nav a{
  padding: 18px 28px;
  border-left: 3px solid transparent;
  margin-bottom: 6px;
  font-size: 15px;
}

body.cabinet-mode .cabinet-nav a:hover{
  background: rgba(255,255,255,0.04);
}

body.cabinet-mode .cabinet-nav a.active{
  background: rgba(255,255,255,0.06);
  border-left-color: #2b7aff;
}

body.cabinet-mode .cabinet-content-wrap{
  height: auto;
  min-height: 100%;
  overflow-y: auto;
}

body.cabinet-mode .cabinet-layout{
  min-height: calc(100vh - 64px); /* высота экрана минус топбар */
  margin-top: 64px;               /* ← САЙДБАР ПРИЖАТ К ТОПБАРУ */
}

.cabinet-ic{
  width: 22px;
  height: 22px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  margin-right: 12px;
  flex: 0 0 22px;
}

.cabinet-ic svg{
  width: 22px;
  height: 22px;
  fill: none;
  stroke: rgba(255,255,255,.75);
  stroke-width: 2;
  stroke-linecap: round;
  stroke-linejoin: round;
}

.cabinet-nav a:hover .cabinet-ic svg{
  stroke: #fff;
}

.cabinet-nav a.active .cabinet-ic svg{
  stroke: #2b7aff; /* твой синий */
}


  </style>
</head>
<body>
  <header class="topbar-wrapper">
    <div class="topbar">
      <div class="logo" id="logo">AstraX</div>

      <nav class="nav">
        <a href="#">Markets</a>
        <a href="#">Spot</a>
        <a href="#">Futures</a>
        <a href="#">Forex</a>
        <a href="#">Stocks</a>
      </nav>

      <div class="actions actions-guest" id="topbar-guest">
  <button class="btn btn-outline" id="btn-top-signin">Sign in</button>
  <button class="btn btn-primary" id="btn-top-get-started">Get Started</button>
</div>

<div class="actions actions-auth" id="topbar-auth" style="display:none;">
  <button class="top-deposit-btn" type="button">Deposit</button>

  <div class="assets-dropdown" id="assets-dropdown">
  <button class="top-link assets-trigger" type="button" id="assets-trigger">
  Assets
</button>

  <div class="assets-menu">
    <div class="assets-card">
      <div class="assets-total">
        <div class="assets-total-title">Total Assets</div>
        <div class="assets-total-value">
          <span class="big">0.00</span> <span class="unit">USDT</span>
        </div>
        <div class="assets-total-sub">≈ $0.00</div>
        <div class="assets-note">*Data updates may be delayed</div>

        <div class="assets-actions">
          <button class="assets-btn ghost" type="button">Withdraw</button>
          <button class="assets-btn primary" type="button">Deposit</button>
        </div>
      </div>

      <div class="assets-section">
        <div class="assets-section-title">Accounts</div>

        <a class="assets-item" href="#" onclick="return false;">Spot Account</a>
        <a class="assets-item" href="#" onclick="return false;">Futures Account</a>
        <a class="assets-item" href="#" onclick="return false;">Forex Account</a>
        <a class="assets-item" href="#" onclick="return false;">Stocks Account</a>
      </div>

      <div class="assets-section">
        <div class="assets-section-title">Records</div>
        <a class="assets-item" href="#" onclick="return false;">Asset Records</a>
      </div>
    </div>
  </div>
</div>


  <button class="top-icon-btn" type="button" aria-label="Notifications">
    <span class="top-badge">2</span>
    <!-- простая иконка колокола -->
    <svg width="18" height="18" viewBox="0 0 24 24" fill="none">
      <path d="M18 8a6 6 0 10-12 0c0 7-3 7-3 7h18s-3 0-3-7" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
      <path d="M13.73 21a2 2 0 01-3.46 0" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
    </svg>
  </button>

  <button class="top-icon-btn" type="button" aria-label="Profile">
    <!-- иконка пользователя -->
    <svg width="18" height="18" viewBox="0 0 24 24" fill="none">
      <path d="M20 21a8 8 0 10-16 0" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
      <path d="M12 11a4 4 0 100-8 4 4 0 000 8z" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
    </svg>
  </button>
</div>

    </div>
  </header>

  <div id="home-page">

  <section class="hero">
  <div class="hero-content">
    <h1 class="hero-title">
      Buy & trade on the<br />
      AstraX crypto exchange
    </h1>

    <p class="hero-subtitle">
      AstraX makes trading easy, fast & reliable. With 24/7 support,
      staking and bank-grade security & insurance. Since 2020
    </p>

    <button class="hero-btn" id="btn-hero-get-started">Get Started Now</button>
  </div>
</section>

  <section class="markets">
  <div class="markets-wrap">

    <div class="markets-header">
      <div>Crypto</div>
      <div>Last Price</div>
      <div>24h Change</div>
      <div>Charts</div>
      <div>Market Cap</div>
      <div>24h Volume</div>
      <div></div>
    </div>

    <div class="market-row" data-symbol="btcusdt">
      <div class="asset">
        <div class="coin">
      <img src="" alt="Bitcoin icon">
    </div>
        <div>
          <div class="symbol">Bitcoin <span>BTC</span></div>
        </div>
      </div>
      <div class="price">$92,242.91</div>
<div class="change down">−0.36%</div>
      <div class="spark">
  <svg viewBox="0 0 100 40" preserveAspectRatio="none">
    <path
      d="M0 30 L10 28 L20 22 L30 24 L40 18 L50 14 L60 16 L70 10 L80 12 L90 8 L100 10"
      fill="none"
      stroke-width="2"
      stroke-linecap="round"
      stroke-linejoin="round"
    />
  </svg>
</div>
      <div class="market-cap">$1.8T</div>
<div class="volume">$53.3B</div>
      <button class="action-btn">Buy</button>
    </div>

    <div class="market-row" data-symbol="dogeusdt">
      <div class="asset">
        <div class="coin">
      <img src="" alt="Dogecoin icon">
    </div>
        <div>
          <div class="symbol">Dogecoin <span>DOGE</span></div>
        </div>
      </div>
      <div class="price">$92,242.91</div>
<div class="change down">−0.36%</div>
      <div class="spark">
  <svg viewBox="0 0 100 40" preserveAspectRatio="none">
    <path
      d="M0 30 L10 28 L20 22 L30 24 L40 18 L50 14 L60 16 L70 10 L80 12 L90 8 L100 10"
      fill="none"
      stroke-width="2"
      stroke-linecap="round"
      stroke-linejoin="round"
    />
  </svg>
</div>
      <div class="market-cap">$1.8T</div>
<div class="volume">$53.3B</div>
      <button class="action-btn">Buy</button>
    </div>

    <div class="market-row" data-symbol="ethusdt">
      <div class="asset">
        <div class="coin">
      <img src="" alt="ETH icon">
    </div>
        <div>
          <div class="symbol">Ethereum <span>ETH</span></div>
        </div>
      </div>
      <div class="price">$92,242.91</div>
<div class="change down">−0.36%</div>
      <div class="spark">
  <svg viewBox="0 0 100 40" preserveAspectRatio="none">
    <path
      d="M0 30 L10 28 L20 22 L30 24 L40 18 L50 14 L60 16 L70 10 L80 12 L90 8 L100 10"
      fill="none"
      stroke-width="2"
      stroke-linecap="round"
      stroke-linejoin="round"
    />
  </svg>
</div>
      <div class="market-cap">$1.8T</div>
<div class="volume">$53.3B</div>
      <button class="action-btn">Buy</button>
    </div>

    <div class="market-row" data-symbol="pepeusdt">
      <div class="asset">
        <div class="coin">
      <img src="" alt="PEPE icon">
    </div>
        <div>
          <div class="symbol">PEPE <span>PEPE</span></div>
        </div>
      </div>
      <div class="price">$92,242.91</div>
<div class="change down">−0.36%</div>
      <div class="spark">
  <svg viewBox="0 0 100 40" preserveAspectRatio="none">
    <path
      d="M0 30 L10 28 L20 22 L30 24 L40 18 L50 14 L60 16 L70 10 L80 12 L90 8 L100 10"
      fill="none"
      stroke-width="2"
      stroke-linecap="round"
      stroke-linejoin="round"
    />
  </svg>
</div>
      <div class="market-cap">$1.8T</div>
<div class="volume">$53.3B</div>
      <button class="action-btn">Buy</button>
    </div>

    <div class="market-row" data-symbol="solusdt">
      <div class="asset">
        <div class="coin">
      <img src="" alt="SOL icon">
    </div>
        <div>
          <div class="symbol">Solana <span>SOL</span></div>
        </div>
      </div>
      <div class="price">$92,242.91</div>
<div class="change down">−0.36%</div>
      <div class="spark">
  <svg viewBox="0 0 100 40" preserveAspectRatio="none">
    <path
      d="M0 30 L10 28 L20 22 L30 24 L40 18 L50 14 L60 16 L70 10 L80 12 L90 8 L100 10"
      fill="none"
      stroke-width="2"
      stroke-linecap="round"
      stroke-linejoin="round"
    />
  </svg>
</div>
      <div class="market-cap">$1.8T</div>
<div class="volume">$53.3B</div>
      <button class="action-btn">Buy</button>
    </div>


    
  </div>

  <div class="markets-footer">
    <button class="more-btn" onclick="openCryptoPage()">Learn More</button>
  </div>
</section>

<section class="markets" id="forex">
  <div class="markets-wrap">

    <div class="markets-header">
      <div>Forex Pair</div>
      <div>Last Price</div>
      <div>24h Change</div>
      <div>Charts</div>
      <div>Market Cap</div>
      <div>24h Volume</div>
      <div></div>
    </div>

    <div class="market-row" data-forex="eurusd">
      <div class="asset">
        
        <div class="symbol">EUR/USD</div>
      </div>
      <div class="price">1.0000</div>
      <div class="change down">0.00%</div>

      <div class="spark">
        <svg viewBox="0 0 100 40"><path></path></svg>
      </div>

      <div class="market-cap">—</div>
      <div class="volume">—</div>

      <button class="action-btn">Trade</button>
    </div>

    <div class="market-row" data-forex="gbpusd">
      <div class="asset">
        
        <div class="symbol">GBP/USD</div>
      </div>
      <div class="price">1.0000</div>
      <div class="change down">0.00%</div>

      <div class="spark">
        <svg viewBox="0 0 100 40"><path></path></svg>
      </div>

      <div class="market-cap">—</div>
      <div class="volume">—</div>

      <button class="action-btn">Trade</button>
    </div>

    <div class="market-row" data-forex="usdjpy">
      <div class="asset">
        
        <div class="symbol">USD/JPY</div>
      </div>
      <div class="price">1.0000</div>
      <div class="change down">0.00%</div>

      <div class="spark">
        <svg viewBox="0 0 100 40"><path></path></svg>
      </div>

      <div class="market-cap">—</div>
      <div class="volume">—</div>

      <button class="action-btn">Trade</button>
    </div>

  </div>

  <div class="markets-footer">
  <button class="more-btn" onclick="openForexPage()">Learn More</button>
</div>

</section>

<!-- =============== STOCKS PREVIEW ON HOMEPAGE =============== -->
<section class="markets" id="stocks">
  <div class="markets-wrap">

    <div class="markets-header">
      <div>Stock</div>
      <div>Last Price</div>
      <div>24h Change</div>
      <div>Charts</div>
      <div>Market Cap</div>
      <div>24h Volume</div>
      <div></div>
    </div>

    <!-- Небольшой превью-список (3 акции) -->
    <div class="market-row" data-stock="aapl">
      <div class="asset">
        
        <div>
          <div class="symbol">Apple <span>AAPL</span></div>
        </div>
      </div>
      <div class="price">$0.00</div>
      <div class="change">0.00%</div>

      <div class="spark">
        <svg viewBox="0 0 100 40" preserveAspectRatio="none">
          <path></path>
        </svg>
      </div>

      <div class="market-cap">—</div>
      <div class="volume">—</div>

      <button class="action-btn">Trade</button>
    </div>

    <div class="market-row" data-stock="msft">
      <div class="asset">
        
        <div>
          <div class="symbol">Microsoft <span>MSFT</span></div>
        </div>
      </div>
      <div class="price">$0.00</div>
      <div class="change">0.00%</div>

      <div class="spark">
        <svg viewBox="0 0 100 40" preserveAspectRatio="none">
          <path></path>
        </svg>
      </div>

      <div class="market-cap">—</div>
      <div class="volume">—</div>

      <button class="action-btn">Trade</button>
    </div>

    <div class="market-row" data-stock="tsla">
      <div class="asset">
        
        <div>
          <div class="symbol">Tesla <span>TSLA</span></div>
        </div>
      </div>
      <div class="price">$0.00</div>
      <div class="change">0.00%</div>

      <div class="spark">
        <svg viewBox="0 0 100 40" preserveAspectRatio="none">
          <path></path>
        </svg>
      </div>

      <div class="market-cap">—</div>
      <div class="volume">—</div>

      <button class="action-btn">Trade</button>
    </div>

  </div>

  <div class="markets-footer">
    <button class="more-btn" onclick="openStocksPage()">Learn More</button>
  </div>
</section>


<section id="steps" class="steps">
  <div class="steps-inner">
    <h2 class="steps-title">First 3 steps to start trading</h2>

    <div class="steps-grid">
      <!-- 1. Register -->
      <div class="step-card">
        <div class="step-icon step-icon-1">
          <img src="img/steps/register.png" alt="Register">
        </div>
        <h3 class="step-heading">1. Register</h3>
        <p class="step-text">
          Create your AstraX account in a few clicks and verify your identity.
        </p>
      </div>

      <!-- 2. Fund -->
      <div class="step-card">
        <div class="step-icon step-icon-2">
          <img src="img/steps/fund.png" alt="Fund">
        </div>
        <h3 class="step-heading">2. Fund</h3>
        <p class="step-text">
          Top up your balance with transfers or cryptocurrencies.
        </p>
      </div>

      <!-- 3. Trade -->
      <div class="step-card">
        <div class="step-icon step-icon-3">
          <img src="img/steps/trade.png" alt="Trade">
        </div>
        <h3 class="step-heading">3. Trade</h3>
        <p class="step-text">
          Buy, sell and manage leading crypto &amp; forex pairs in one place.
        </p>
      </div>
    </div>
  </div>
</section>

<section id="faq" class="faq">
  <div class="faq-inner">
    <h2 class="faq-title">FAQ</h2>

    <div class="faq-list">

      <!-- 1 -->
      <div class="faq-item">
        <button class="faq-head" type="button">
          <span class="faq-index">1</span>
          <span class="faq-question">
            Why is AstraX the best exchange for crypto traders?
          </span>
          <span class="faq-icon">+</span>
        </button>
        <div class="faq-body">
          <p>
            AstraX combines deep liquidity, low trading fees and fast order
            execution. We offer both spot and derivatives markets, 24/7 support
            and bank-grade security for your funds.
          </p>
        </div>
      </div>

      <!-- 2 -->
      <div class="faq-item">
        <button class="faq-head" type="button">
          <span class="faq-index">2</span>
          <span class="faq-question">
            What products does AstraX provide?
          </span>
          <span class="faq-icon">+</span>
        </button>
        <div class="faq-body">
          <p>
            You can trade crypto spot, margin and futures, stake popular coins,
            swap fiat to crypto and access basic forex pairs — all inside one
            account.
          </p>
        </div>
      </div>

      <!-- 3 -->
      <div class="faq-item">
        <button class="faq-head" type="button">
          <span class="faq-index">3</span>
          <span class="faq-question">
            How to buy Bitcoin and other cryptocurrencies on AstraX?
          </span>
          <span class="faq-icon">+</span>
        </button>
        <div class="faq-body">
          <p>
            Register, pass a quick verification and top up your balance with a
            bank card, transfer or crypto deposit. After that you can buy any
            listed asset in the “Buy Crypto” or “Markets” section.
          </p>
        </div>
      </div>

      <!-- 4 -->
      <div class="faq-item">
        <button class="faq-head" type="button">
          <span class="faq-index">4</span>
          <span class="faq-question">
            How can I track cryptocurrency prices?
          </span>
          <span class="faq-icon">+</span>
        </button>
        <div class="faq-body">
          <p>
            Use the Markets page on AstraX: real-time prices, 24h change,
            sparklines and market-cap data for top assets. You can also add
            favourites and quickly switch between crypto and forex.
          </p>
        </div>
      </div>

      <!-- 5 -->
      <div class="faq-item">
        <button class="faq-head" type="button">
          <span class="faq-index">5</span>
          <span class="faq-question">
            How to start trading cryptocurrencies on AstraX?
          </span>
          <span class="faq-icon">+</span>
        </button>
        <div class="faq-body">
          <p>
            After funding your account, open the trading terminal, choose a
            pair, select order type (market or limit) and confirm the trade.
            You can manage open positions and order history in your dashboard.
          </p>
        </div>
      </div>

    </div>
  </div>
</section>

<section class="partners-strip">
  <div class="partners-track">
    <img src="img/partners/moonpay.svg" alt="MoonPay">
    <img src="img/partners/sumsub.svg" alt="Sumsub">
    <img src="img/partners/volet.svg" alt="Volet">
    <img src="img/partners/banxa.svg" alt="Banxa">
    <img src="img/partners/hacken.svg" alt="Hacken">
    <img src="img/partners/tradingview.svg" alt="TradingView">
    <img src="img/partners/chainlink.svg" alt="Chainlink">
    <img src="img/partners/mazars.svg" alt="Mazars">
    <img src="img/partners/consensys.svg" alt="Consensys">
    <img src="img/partners/xanpool.svg" alt="XanPool">

    <!-- Дублируем для бесконечной прокрутки -->
    <img src="img/partners/moonpay.svg" alt="MoonPay">
    <img src="img/partners/sumsub.svg" alt="Sumsub">
    <img src="img/partners/volet.svg" alt="Volet">
    <img src="img/partners/banxa.svg" alt="Banxa">
    <img src="img/partners/hacken.svg" alt="Hacken">
    <img src="img/partners/tradingview.svg" alt="TradingView">
    <img src="img/partners/chainlink.svg" alt="Chainlink">
    <img src="img/partners/mazars.svg" alt="Mazars">
    <img src="img/partners/consensys.svg" alt="Consensys">
    <img src="img/partners/xanpool.svg" alt="XanPool">
    <img src="img/partners/moonpay.svg" alt="MoonPay">
    <img src="img/partners/sumsub.svg" alt="Sumsub">
    <img src="img/partners/volet.svg" alt="Volet">
    <img src="img/partners/banxa.svg" alt="Banxa">
    <img src="img/partners/hacken.svg" alt="Hacken">
    <img src="img/partners/tradingview.svg" alt="TradingView">
    <img src="img/partners/chainlink.svg" alt="Chainlink">
    <img src="img/partners/mazars.svg" alt="Mazars">
    <img src="img/partners/consensys.svg" alt="Consensys">
    <img src="img/partners/xanpool.svg" alt="XanPool">
  </div>
</section>


<section id="crypto-page" style="display:none; padding-top:120px;">

  <div style="text-align:center; margin-bottom:40px;">
    <h1 style="
      font-size: clamp(36px, 5vw, 56px);
      font-weight: 800;
      margin-bottom: 24px;
    ">
      Cryptocurrency Prices Today
    </h1>

    <input
      id="crypto-search"
      type="text"
      placeholder="Search cryptocurrency..."
      style="
        padding:14px 18px;
        width:320px;
        max-width:90%;
        border-radius:12px;
        border:none;
        outline:none;
        background:rgba(255,255,255,0.07);
        color:#fff;
        font-size:16px;
        text-align:center;
      "
    />
  </div>

  <section class="markets">
    <div class="markets-wrap">

      <div class="markets-header">
        <div>Crypto</div>
        <div>Last Price</div>
        <div>24h Change</div>
        <div>Charts</div>
        <div>Market Cap</div>
        <div>24h Volume</div>
        <div></div>
      </div>

      <!-- 🔥 Вставляем те же строки market-row, что и на первой странице -->
      <!-- Можно просто скопировать весь блок market-row отсюда -->
      
      <div id="crypto-rows"></div>

    </div>
    <div class="markets-footer">
    <button class="pager-btn" id="prev-page">←</button>
    <button class="pager-btn" id="next-page">→</button>
  </div>
  </section>



</section>

<section id="forex-page" class="forex-page" style="display:none; padding-top:120px;">

  <div style="text-align:center; margin-bottom:40px;">
    <h1 style="
      font-size: clamp(36px, 5vw, 56px);
      font-weight: 800;
      margin-bottom: 24px;
    ">
      Forex Rates Today
    </h1>

    <input
      id="forex-search"
      type="text"
      placeholder="Search forex pair..."
      style="
        padding:14px 18px;
        width:320px;
        max-width:90%;
        border-radius:12px;
        border:none;
        outline:none;
        background:rgba(255,255,255,0.07);
        color:#fff;
        font-size:16px;
        text-align:center;
      "
    />
  </div>

  <!-- MAJORS -->
  <section class="markets">
  <div class="markets-wrap">
    <div class="markets-header">
      <div>Majors</div>
      <div>Last Price</div>
      <div>24h Change</div>
      <div>Charts</div>
      <div>Market Cap</div>
      <div>24h Volume</div>
      <div></div>
    </div>

    <div id="forex-majors-rows"></div>
  </div>

  <div class="markets-footer">
    <button class="pager-btn" id="majors-prev">←</button>
    <button class="pager-btn" id="majors-next">→</button>
  </div>
</section>

  <!-- CROSSES -->
  <section class="markets">
  <div class="markets-wrap">
    <div class="markets-header">
      <div>Crosses</div>
      <div>Last Price</div>
      <div>24h Change</div>
      <div>Charts</div>
      <div>Market Cap</div>
      <div>24h Volume</div>
      <div></div>
    </div>

    <div id="forex-crosses-rows"></div>
  </div>

  <div class="markets-footer">
    <button class="pager-btn" id="crosses-prev">←</button>
    <button class="pager-btn" id="crosses-next">→</button>
  </div>
</section>

  <!-- EXOTIC -->
  <section class="markets">
  <div class="markets-wrap">
    <div class="markets-header">
      <div>Exotic</div>
      <div>Last Price</div>
      <div>24h Change</div>
      <div>Charts</div>
      <div>Market Cap</div>
      <div>24h Volume</div>
      <div></div>
    </div>

    <div id="forex-exotic-rows"></div>
  </div>

  <div class="markets-footer">
    <button class="pager-btn" id="exotic-prev">←</button>
    <button class="pager-btn" id="exotic-next">→</button>
  </div>
</section>

</section>

<!-- ===================== STOCKS PAGE ===================== -->
<section id="stocks-page" style="display:none; padding-top:120px;">

  <div style="text-align:center; margin-bottom:40px;">
    <h1 style="
      font-size: clamp(36px, 5vw, 56px);
      font-weight: 800;
      margin-bottom: 24px;
    ">
      Stock Market Today
    </h1>

    <!-- Поиск -->
    <input
      id="stocks-search"
      type="text"
      placeholder="Search stock..."
      style="
        padding:14px 18px;
        width:260px;
        max-width:90%;
        border-radius:12px;
        border:none;
        outline:none;
        background:rgba(255,255,255,0.07);
        color:#fff;
        font-size:16px;
        text-align:center;
        margin-right:10px;
      "
    />

    <!-- Фильтр по сектору -->
    <select
  id="stocks-sector-filter"
  style="
    padding:14px 18px;
    border-radius:12px;
    border:none;
    outline:none;
    background:rgba(255,255,255,0.07);
    color:#fff;
    font-size:14px;
  "
>
  <option value="">All sectors</option>
  <option value="medical_cannabis">Medical Cannabis</option>
  <option value="automobile">Automobile Industries</option>
  <option value="consumer_goods">Consumer Goods</option>
  <option value="consumer_services">Consumer Services</option>
  <option value="healthcare">Healthcare</option>
  <option value="finance">Finance</option>
  <option value="energy">Energy</option>
  <option value="industrials">Industrials</option>
  <option value="luxury">Luxury</option>
  <option value="telecommunications">Telecommunications</option>
  <option value="technologies">Technologies</option>
  <option value="materials">Materials</option>
</select>
  </div>

  <section class="markets">
    <div class="markets-wrap">

      <div class="markets-header">
        <div>Stock</div>
        <div>Last Price</div>
        <div>24h Change</div>
        <div>Charts</div>
        <div>Market Cap</div>
        <div>24h Volume</div>
        <div></div>
      </div>

      <div id="stocks-rows"></div>
    </div>

    <div class="markets-footer">
      <button class="pager-btn" id="stocks-prev">←</button>
      <button class="pager-btn" id="stocks-next">→</button>
    </div>
  </section>

</section>

</div>

<section id="signup-page" class="signup-page" style="display:none;">
  <div class="signup-card">
    <h1 class="signup-title">Create an Account</h1>

    

    <form id="signup-form">
      <div class="signup-field" data-mode="email">
        <input type="email" name="email" placeholder="Please enter email" required />
      </div>

      <div class="signup-field" data-mode="email">
        <input type="password" name="password" placeholder="Please enter a password" required />
      </div>

      <div class="signup-field optional">
        <label>Referral Code (Optional)</label>
        <input type="text" name="referralCode" placeholder="Enter referral code" />
      </div>

      <label class="signup-checkbox">
        <input type="checkbox" name="agree" required />
        <span>I have read and agree to the Customer Agreement and Privacy Policy</span>
      </label>

      <button type="submit" class="signup-btn" id="signup-submit" disabled>Sign Up</button>

      <!-- <div class="signup-or">
        <span></span>Or<span></span>
      </div>

      <button type="button" class="signup-social google">
        Continue with Google
      </button>
      <button type="button" class="signup-social apple">
        Continue with Apple
      </button> -->

      <div class="signup-footer">
        Already have an account?  <a href="#" id="link-open-login">Log in</a>
      </div>
    </form>
  </div>
</section>

<div id="verification-modal" class="modal-backdrop">
  <div class="modal-card">
    <div class="modal-header">
      <div class="modal-title">Security Verification</div>
      <button class="modal-close" id="modal-close-btn">×</button>
    </div>
    <div class="modal-body">
      <p id="modal-email-text">
        The code has been sent to your email.
      </p>
      <input
        id="verification-code"
        class="modal-input"
        placeholder="Enter"
      />
      <div class="modal-timer" id="modal-timer">60s</div>
      <button class="modal-confirm" id="modal-confirm-btn">Confirm</button>
    </div>
  </div>
</div>

<!-- ===== LOGIN PAGE ===== -->
<section id="login-page" class="signup-page" style="display: none;">
  <div class="signup-card">
    <h2 class="signup-title">Welcome Back</h2>

    

    <form id="login-form">
      <div class="signup-field">
        <input
          type="email"
          id="login-email"
          placeholder="Please enter email"
          required
        />
      </div>



      <div class="signup-field">
        <input
          type="password"
          id="login-password"
          placeholder="Enter a password of 8 to 30 characters"
          minlength="8"
          maxlength="30"
          required
        />
      </div>

      <div style="text-align: right; font-size: 12px; margin-bottom: 14px;">
        <a href="#" style="color:#2b7aff; text-decoration:none;" id="link-forgot-password">Forgot Password</a>
      </div>

      <button type="submit" class="signup-btn">Welcome Back</button>

      <!-- <div class="signup-or">
        <span></span>
        <div>Or</div>
        <span></span>
      </div>

      <button type="button" class="signup-social">
        Continue with Google
      </button>
      <button type="button" class="signup-social">
        Continue with Apple
      </button> -->

      <div class="signup-footer">
        No Account?
        <a href="#" id="link-open-signup-from-login">Sign Up</a>
      </div>
    </form>
  </div>
</section>

<!-- ===== RESET PASSWORD STEP 1 ===== -->
<section id="reset-email-page" class="signup-page" style="display:none;">
  <div class="signup-card">
    <h2 class="signup-title">Reset Password</h2>

    <div class="signup-field">
      <input type="email" id="reset-email" placeholder="Please enter email">
    </div>

    <button class="signup-btn" id="reset-next-btn">Next</button>

    <div class="signup-footer">
      <a href="#" id="reset-back-to-login">Login with password</a>
    </div>
  </div>
</section>

<!-- ===== RESET PASSWORD STEP 2 ===== -->
<section id="reset-confirm-page" class="signup-page" style="display:none;">
  <div class="auth-card">
    <h1 style="font-size:44px; font-weight:800;">Reset Login Password</h1>

    <div style="margin-top:20px;">
      <div style="color:#9aa0a6; margin-bottom:8px;">New Password</div>
      <input id="reset-new-pass" type="password" placeholder="Enter" class="auth-input" />
    </div>

    <div style="margin-top:16px;">
      <div style="color:#9aa0a6; margin-bottom:8px;">Confirm Password</div>
      <input id="reset-new-pass2" type="password" placeholder="Enter" class="auth-input" />
    </div>

    <div style="margin-top:16px;">
      <div style="color:#9aa0a6; margin-bottom:8px;">Email Verification</div>

      <div style="display:flex; gap:12px;">
        <input id="reset-code" type="text" placeholder="Enter" class="auth-input" style="flex:1;" />
        <button id="reset-get-code" class="auth-btn" style="width:160px;">Get Code</button>
      </div>
    </div>

    <button id="reset-confirm-btn" class="auth-btn" style="margin-top:24px;">Confirm</button>
  </div>
</section>

<section id="about-page" style="display:none; padding-top:120px;">
  <div class="about-wrap">

  <!-- 1) About AstraX (по центру) -->
  <section class="about-hero">
    <h1 class="about-title">About AstraX</h1>

    <p class="about-hero-text">
      Founded in 2020, AstraX is a leading crypto exchange, serving a global community of over 20 million users.
      With a comprehensive suite of and services, including  spot trading, futures, forex, and stocks trading, AstraX caters
      to the evolving needs of users across all experience levels, from beginners to professionals.
    </p>

    
  </section>

  <!-- 2) Empowering Traders -->
  <section class="about-block about-split">
    <div class="about-left">
      <h2 class="about-h2">Empowering<br/>Traders<span class="dot">.</span></h2>
      <p class="about-p">
        We are here to provide a user-first platform for swift and seamless crypto trading, empowering traders to stretch their trading skills and
        accomplish more with cryptocurrencies. Our goal is to inspire and keep them ahead of the curve, facilitating secure, efficient, and effective trading.
      </p>
    </div>
    <div class="about-right"></div>
  </section>

  <!-- 3) Shield Fund -->
  <section class="about-block about-split">
    <div class="about-left">
      <h2 class="about-h2">Shield Fund<span class="dot">.</span></h2>
      <p class="about-p">
        AstraX Shield Fund is a safety net exceeding $150 million, established to safeguard users against unexpected incidents, including technical vulnerabilities,
        security risks, or malicious cyber threats on the platform.
      </p>
      <p class="about-p">
        Fully self-funded and always active, it reflects AstraX’s long-term commitment to transparency, safety, and putting users first across its trading ecosystem.
      </p>
    </div>
    <div class="about-right"></div>
  </section>

  <!-- 4) Reliable & Trustworthy + 2 карточки -->
  <section class="about-block about-center">
    <h2 class="about-h2-center">Reliable &amp; Trustworthy</h2>
    <p class="about-sub">
      Verified by global authorities, we hold a 100% Proof of Reserves (PoR) certification, backed by a publicly released audit report.
      In collaboration with leading cybersecurity organizations, we’ve successfully passed security audits conducted by top security-focused ranking platforms.
    </p>

    <div class="about-cards">
      <div class="about-card">
        <div class="about-card-title">Mission</div>
        <div class="about-card-text">
          We are committed to providing a trustworthy and transparent platform, making crypto accessible and friendly to everyone.
        </div>
        <div class="about-art mission-art"></div>
      </div>

      <div class="about-card">
        <div class="about-card-title">Vision</div>
        <div class="about-card-text">
          We aim to build a gateway for the next billion crypto users.
        </div>
        <div class="about-art vision-art"></div>
      </div>
    </div>
  </section>

  <!-- 5) AstraX Values -->
  <section class="about-block about-center">
    <h2 class="about-h2-center">AstraX Values<span class="dot">.</span></h2>

    <div class="values-grid">
      <div class="value-item">
        <div class="value-icon">
  <img src="img/icons/user.png" alt="">
</div>
        <div>
          <div class="value-title">User-First</div>
          <div class="value-text">We prioritize our users in everything we do, enabling them to constantly stay ahead and do more with crypto.</div>
        </div>
      </div>

      <div class="value-item">
        <div class="value-icon">
  <img src="img/icons/shit.png" alt="">
</div>
        <div>
          <div class="value-title">Reliable</div>
          <div class="value-text">We are committed to providing a secure platform with 100% user asset protection and 24/7 global support.</div>
        </div>
      </div>

      <div class="value-item">
        <div class="value-icon">
  <img src="img/icons/lampa.png" alt="">
</div>
        <div>
          <div class="value-title">Innovative</div>
          <div class="value-text">We continually innovate and introduce new features and strategies to elevate user's trading proficiency.</div>
        </div>
      </div>

      <div class="value-item">
        <div class="value-icon">
  <img src="img/icons/plus.png" alt="">
</div>
        <div>
          <div class="value-title">Diversified</div>
          <div class="value-text">We provide a comprehensive range of products and services to users of all levels, from beginners to professionals.</div>
        </div>
      </div>
    </div>
  </section>

  <!-- 6) 24/7 Customer Service -->
  <section class="about-block about-split service-split">
    <div class="about-left">
      <h2 class="about-h2">24/7 Customer<br/>Service</h2>
      <p class="about-p">
        Our customer service executives are always ready and glad to answer any questions. Please feel free to contact our customer support at
        <span class="about-link">support@astrax.com</span>. For immediate assistance, you can start a conversation via the live chat widget.
      </p>
    </div>

    <div class="about-right service-illustration">
      <div class="service-box">
        <div class="service-badge">24/7</div>
        <div class="service-line"></div>
      </div>
    </div>
  </section>

</div>

</section>

<!-- ===== NEWS PAGE ===== -->
<section id="news-page" style="display:none; padding-top:120px;">
  <div class="about-wrap">
    <section class="about-hero">
      <h1 class="about-title">News</h1>
      <p class="about-hero-text">
        Latest AstraX updates, product announcements and platform news.
      </p>
    </section>

    <section class="about-block about-center" style="margin-top:60px;">
      <div class="about-cards" style="grid-template-columns: 1fr;">
        <div class="about-card" style="text-align:left;">
          <div class="about-card-title">Coming soon</div>
          <div class="about-card-text" style="max-width:none;">
            Add your news posts here (cards or a list).
          </div>
        </div>
      </div>
    </section>
  </div>
</section>

<!-- ===== BLOG PAGE ===== -->
<section id="blog-page" style="display:none; padding-top:120px;">
  <div class="about-wrap">
    <section class="about-hero">
      <h1 class="about-title">Blog</h1>
      <p class="about-hero-text">
        Trading education, guides and insights from AstraX.
      </p>
    </section>

    <section class="about-block about-center" style="margin-top:60px;">
      <div class="about-cards" style="grid-template-columns: 1fr;">
        <div class="about-card" style="text-align:left;">
          <div class="about-card-title">Coming soon</div>
          <div class="about-card-text" style="max-width:none;">
            Add your blog posts here (cards or articles list).
          </div>
        </div>
      </div>
    </section>
  </div>
</section>

<!-- ===== SUPPORT: 24/7 CHAT ===== -->
<section id="chat-page" style="display:none; padding-top:120px;">
  <div class="about-wrap">
    <section class="about-hero">
      <h1 class="about-title">24/7 Chat Support</h1>
      <p class="about-hero-text">Support is available 24/7.</p>
    </section>
    <section class="about-block about-center" style="margin-top:60px;">
      <div class="about-cards" style="grid-template-columns: 1fr;">
        <div class="about-card" style="text-align:left;">
          <div class="about-card-title">Coming soon</div>
          <div class="about-card-text" style="max-width:none;">
            Add chat widget or support instructions here.
          </div>
        </div>
      </div>
    </section>
  </div>
</section>

<!-- ===== SUPPORT: FEEDBACK ===== -->

<!-- ===== SUPPORT: FEEDBACK ===== -->

<section id="feedback-page" class="feedback-page" style="display:none;">
  <div class="feedback-container">
    <div class="about-wrap">
      <section class="about-hero">
        <h1 class="about-title">Feedback</h1>
        <p class="about-hero-text">Tell us what to improve.</p>
      </section>

      <section class="about-block about-center feedback-block">
        <div class="about-card" style="text-align:left;">
          <form id="feedback-form">
  <div class="signup-field">
    <div class="ax-select" data-name="businessType">
  <button type="button" class="ax-select-btn">
    <span class="ax-select-value">Select Business Type</span>
    <span class="ax-select-arrow">▾</span>
  </button>

  <div class="ax-select-menu">
    <button type="button" class="ax-select-opt" data-value="Retail">Retail</button>
    <button type="button" class="ax-select-opt" data-value="Restaurant">Restaurant</button>
    <button type="button" class="ax-select-opt" data-value="Service">Service</button>
    <button type="button" class="ax-select-opt" data-value="Other">Other</button>
  </div>

  <!-- скрытое поле для отправки формы -->
  <input type="hidden" name="businessType" required />
</div>

  </div>

  <div class="signup-field">
    <textarea name="description" required placeholder="Write your suggestion..."></textarea>
  </div>

  <div class="signup-field">
    <label class="file-upload">
  <input type="file" name="media" accept="image/*,video/*" hidden>
  <span class="file-upload-btn">+</span>
  <span class="file-upload-text">Image / Video</span>
</label>
  </div>

  <button type="submit" class="signup-btn">Submit</button>
</form>

        </div>
      </section>
    </div>
  </div>
</section>


<!-- ===== SUPPORT: TRADING FEES ===== -->
<section id="fees-page" style="display:none; padding-top:120px;">
  <div class="about-wrap">
    <section class="about-hero">
      <h1 class="about-title">Trading Fees</h1>
      <p class="about-hero-text">Fee schedule and VIP tiers.</p>
    </section>
    <section class="about-block about-center" style="margin-top:60px;">
      <div class="about-cards" style="grid-template-columns: 1fr;">
        <div class="about-card" style="text-align:left;">
          <div class="fees-table-wrap">
  <table class="fees-table">
    <thead>
      <tr>
        <th>Level</th>
        <th>Taker</th>
        <th>Maker</th>
      </tr>
    </thead>
    <tbody>
      <tr><td>VIP 0</td><td>0.1000%</td><td>0.1000%</td></tr>
      <tr><td>VIP 1</td><td>0.0600%</td><td>0.0350%</td></tr>
      <tr><td>VIP 2</td><td>0.0500%</td><td>0.0200%</td></tr>
      <tr><td>VIP 3</td><td>0.0450%</td><td>0.0150%</td></tr>
      <tr><td>VIP 4</td><td>0.0375%</td><td>0.0125%</td></tr>
      <tr><td>VIP 5</td><td>0.0325%</td><td>0.0100%</td></tr>
      <tr><td>Supreme VIP</td><td>0.0200%</td><td>0.0050%</td></tr>
    </tbody>
  </table>
</div>
        </div>
      </div>
    </section>
  </div>
</section>

<!-- ===== TERMS: CUSTOMER AGREEMENT ===== -->
<section id="agreement-page" style="display:none; padding-top:120px;">
  <div class="about-wrap">
    <section class="about-hero">
      <h1 class="about-title">Customer Agreement</h1>
      <p class="about-hero-text">Terms of service for using AstraX.</p>
    </section>
    <section class="about-block about-center" style="margin-top:60px;">
      <div class="about-cards" style="grid-template-columns: 1fr;">
        <div class="about-card" style="text-align:left;">
          <div class="about-card-title">Coming soon</div>
          <div class="about-card-text" style="max-width:none;">
            Paste your agreement text here.
          </div>
        </div>
      </div>
    </section>
  </div>
</section>

<!-- ===== TERMS: PRIVACY POLICY ===== -->
<section id="privacy-page" style="display:none; padding-top:120px;">
  <div class="about-wrap">
    <section class="about-hero">
      <h1 class="about-title">Privacy Policy</h1>
      <p class="about-hero-text">How we collect and use data.</p>
    </section>
    <section class="about-block about-center" style="margin-top:60px;">
      <div class="about-cards" style="grid-template-columns: 1fr;">
        <div class="about-card" style="text-align:left;">
          <div class="about-card-title">Coming soon</div>
          <div class="about-card-text" style="max-width:none;">
            Paste your privacy policy text here.
          </div>
        </div>
      </div>
    </section>
  </div>
</section>

<!-- ===== TERMS: DISCLAIMER ===== -->
<section id="disclaimer-page" style="display:none; padding-top:120px;">
  <div class="about-wrap">
    <section class="about-hero">
      <h1 class="about-title">Disclaimer</h1>
      <p class="about-hero-text">Important legal information.</p>
    </section>
    <section class="about-block about-center" style="margin-top:60px;">
      <div class="about-cards" style="grid-template-columns: 1fr;">
        <div class="about-card" style="text-align:left;">
          <div class="about-card-title">Coming soon</div>
          <div class="about-card-text" style="max-width:none;">
            Paste disclaimer text here.
          </div>
        </div>
      </div>
    </section>
  </div>
</section>

<!-- ===== TERMS: RISK NOTICE ===== -->
<section id="risk-page" style="display:none; padding-top:120px;">
  <div class="about-wrap">
    <section class="about-hero">
      <h1 class="about-title">Risk Notice</h1>
      <p class="about-hero-text">Trading involves risk. Read carefully.</p>
    </section>
    <section class="about-block about-center" style="margin-top:60px;">
      <div class="about-cards" style="grid-template-columns: 1fr;">
        <div class="about-card" style="text-align:left;">
          <div class="about-card-title">Coming soon</div>
          <div class="about-card-text" style="max-width:none;">
            Paste risk notice text here.
          </div>
        </div>
      </div>
    </section>
  </div>
</section>

<!-- ===== CABINET / DASHBOARD ===== -->
<section id="cabinet-page" class="cabinet-page">
  <div class="cabinet-inner">
    <aside class="cabinet-sidebar">
  <nav class="cabinet-nav" id="cabinet-nav">

    <a href="#" class="active" data-tab="overview" onclick="openCabinetTab('overview'); return false;">
      <span class="cabinet-ic" aria-hidden="true">
        <!-- clock -->
        <svg viewBox="0 0 24 24"><path d="M12 8v5l3 2M12 2a10 10 0 1 0 0 20a10 10 0 0 0 0-20Z"/></svg>
      </span>
      Overview
    </a>

    <a href="#" data-tab="spot" onclick="openCabinetTab('spot'); return false;">
      <span class="cabinet-ic" aria-hidden="true">
        <!-- target -->
        <svg viewBox="0 0 24 24"><path d="M12 8a4 4 0 1 0 4 4M12 2a10 10 0 1 0 10 10M12 12h.01"/></svg>
      </span>
      Spot Account
    </a>

    <a href="#" data-tab="futures" onclick="openCabinetTab('futures'); return false;">
      <span class="cabinet-ic" aria-hidden="true">
        <!-- chart -->
        <svg viewBox="0 0 24 24"><path d="M4 19V5M4 19h16M7 15l4-4 3 3 5-6"/></svg>
      </span>
      Futures Account
    </a>

    <a href="#" data-tab="copy" onclick="openCabinetTab('copy'); return false;">
      <span class="cabinet-ic" aria-hidden="true">
        <!-- document -->
        <svg viewBox="0 0 24 24"><path d="M8 3h7l3 3v15H8zM11 10h6M11 14h6M11 18h6"/></svg>
      </span>
      Forex Account
    </a>

    <a href="#" data-tab="bots" onclick="openCabinetTab('bots'); return false;">
      <span class="cabinet-ic" aria-hidden="true">
        <!-- bot -->
        <svg viewBox="0 0 24 24"><path d="M12 3v2M7 7h10a4 4 0 0 1 4 4v6a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4v-6a4 4 0 0 1 4-4ZM8 13h.01M16 13h.01"/></svg>
      </span>
      Stocks Account
    </a>

    <div class="divider"></div>

    <a href="#" data-tab="records" onclick="openCabinetTab('records'); return false;">
      <span class="cabinet-ic" aria-hidden="true">
        <!-- folder -->
        <svg viewBox="0 0 24 24"><path d="M3 7h6l2 2h10v10a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2Z"/></svg>
      </span>
      Asset Records
    </a>

  </nav>
</aside>


    <main id="cabinet-content" style="color:#fff;">
      <!-- сюда потом контент вкладок -->
      <h1 style="margin:0 0 12px; font-size:34px;">Overview</h1>
      <p style="opacity:.7; margin:0;">Cabinet content will be here.</p>
    </main>
  </div>
</section>

<script>
// ===================== ОБЩЕЕ: функция рисования спарка =====================
function drawSpark(path, data) {
  if (!path || !data || data.length < 2) return;

  const w = 100;
  const h = 40;
  const max = Math.max(...data);
  const min = Math.min(...data);

  const dAttr = data.map((v, i) => {
    const x = (i / (data.length - 1)) * w;
    const y = h - ((v - min) / (max - min || 1)) * h;
    return `${x},${y}`;
  });

  path.setAttribute("d", `M${dAttr.join(" L")}`);
  // цвет и подсветка берутся из CSS: .spark path { stroke: #3b82f6; ... }
}

function formatMoney(num) {
  if (!num) return "—";
  if (num >= 1e12) return `$${(num / 1e12).toFixed(2)}T`;
  if (num >= 1e9)  return `$${(num / 1e9).toFixed(2)}B`;
  return `$${(num / 1e6).toFixed(2)}M`;
}

// ===================== КРИПТА – статично =====================


const cryptoMap = {
  btcusdt: "bitcoin",
  ethusdt: "ethereum",
  bnbusdt: "binancecoin",
  xrpusdt: "ripple",
  solusdt: "solana",
  adausdt: "cardano",
  dogeusdt: "dogecoin",
  tonusdt: "the-open-network",
  
  linkusdt: "chainlink",
  
  dotusdt: "polkadot",
  liteusdt: "litecoin",
  shibusdt: "shiba-inu",
  avaxusdt: "avalanche-2",
  uniusdt: "uniswap",
  atomusdt: "cosmos",
  xmrusdt: "monero",
  ethusdt: "ethereum",
  etausdt: "ethereum-classic",
  nearusdt: "near",
  arbusdt: "arbitrum",
  opusdt: "optimism",
  aptusdt: "aptos",
  filusdt: "filecoin",
  hbarusdt: "hedera-hashgraph",
  vetusdt: "vechain",
  icpusdt: "internet-computer",
  algousdt: "algorand",
  galausdt: "gala",
  sandusdt: "the-sandbox",
  manausdt: "decentraland",
  eosusdt: "eos",
  thetausdt: "theta-token",
  aaveusdt: "aave",
  xlmusdt: "stellar",
  imxusdt: "immutable-x",
  rndrusdt: "render-token",
  injusdt: "injective-protocol",
  batusdt: "basic-attention-token",
  ftmusdt: "fantom",
  egldusdt: "elrond-erd-2",
  chzusdt: "chiliz",
  wavesusdt: "waves",
  enjusdt: "enjincoin",
  fraxusdt: "frax",
  axsusdt: "axie-infinity",
  roseusdt: "oasis-network",
  minausdt: "mina-protocol",
  crvusdt: "curve-dao-token",
  cvxusdt: "convex-finance",
  kncusdt: "kyber-network-crystal",
  omgusdt: "omisego",
  dxyusdt: "dydx",
  balusdt: "balancer",
  sushiusdt: "sushi",
  zecusdt: "zcash",
  neousdt: "neo",
  ksmusdt: "kusama",
  xtzusdt: "tezos",
  hotusdt: "holotoken",
  
  lrcusdt: "loopring",
  fetusdt: "fetch-ai",
  oceanusdt: "ocean-protocol",
  
  pepeusdt: "pepe",
  seiusdt: "sei-network",
  sntusdt: "status",
  gmtusdt: "stepn",
  celousdt: "celo",
  qtumusdt: "qtum",
  lunausdt: "terra-luna",
  
  kavausdt: "kava",
  arbusdt: "arbitrum",
  ldousdt: "lido-dao",
  grtusdt: "the-graph",
  
  
  xecusdt: "ecash",
  kasusdt: "kaspa",
  ronusdt: "ronin",
  
  
  pendleusdt: "pendle",
  flrusdt: "flare-networks",
  celousdt: "celo",
  woousdt: "woo-network",
  dymusdt: "dymension",
  
  
  jupusdt: "jupiter-exchange-solana"
};

const nameMap = {
  btcusdt: "Bitcoin",
  ethusdt: "Ethereum",
  bnbusdt: "BNB",
  xrpusdt: "XRP",
  solusdt: "Solana",
  adausdt: "Cardano",
  dogeusdt: "Dogecoin",
  tonusdt: "Toncoin",

  linkusdt: "Chainlink",
  
  dotusdt: "Polkadot",
  liteusdt: "Litecoin",
  shibusdt: "Shiba Inu",
  avaxusdt: "Avalanche",
  uniusdt: "Uniswap",
  atomusdt: "Cosmos",
  xmrusdt: "Monero",
  etausdt: "Ethereum Classic",
  nearusdt: "NEAR Protocol",

  arbusdt: "Arbitrum",
  opusdt: "Optimism",
  aptusdt: "Aptos",
  filusdt: "Filecoin",
  hbarusdt: "Hedera Hashgraph",
  vetusdt: "VeChain",
  icpusdt: "Internet Computer",
  algousdt: "Algorand",
  galausdt: "Gala",
  sandusdt: "The Sandbox",
  manausdt: "Decentraland",

  eosusdt: "EOS",
  thetausdt: "Theta",
  aaveusdt: "Aave",
  xlmusdt: "Stellar",
  imxusdt: "Immutable X",
  rndrusdt: "Render",
  injusdt: "Injective",
  batusdt: "Basic Attention Token",
  ftmusdt: "Fantom",
  egldusdt: "MultiversX (Elrond)",
  chzusdt: "Chiliz",

  wavesusdt: "Waves",
  enjusdt: "Enjin Coin",
  fraxusdt: "Frax",
  axsusdt: "Axie Infinity",
  roseusdt: "Oasis Network",
  minausdt: "Mina Protocol",
  crvusdt: "Curve DAO",
  cvxusdt: "Convex Finance",
  kncusdt: "Kyber Network",
  omgusdt: "OMG Network",
  dxyusdt: "dYdX",

  balusdt: "Balancer",
  sushiusdt: "SushiSwap",
  zecusdt: "Zcash",
  neousdt: "NEO",
  ksmusdt: "Kusama",
  xtzusdt: "Tezos",
  hotusdt: "Holo",
  lrcusdt: "Loopring",
  fetusdt: "Fetch.ai",
  oceanusdt: "Ocean Protocol",

  pepeusdt: "Pepe",
  seiusdt: "Sei",
  sntusdt: "Status",
  gmtusdt: "STEPN",
  celousdt: "Celo",
  qtumusdt: "Qtum",
  lunausdt: "Terra",
  kavausdt: "Kava",

  ldousdt: "Lido DAO",
  grtusdt: "The Graph",

  xecusdt: "eCash",
  kasusdt: "Kaspa",
  ronusdt: "Ronin",

  pendleusdt: "Pendle",
  flrusdt: "Flare",
  woousdt: "WOO Network",
  dymusdt: "Dymension",

  jupusdt: "Jupiter"
};

function parseSymbol(binanceSymbol) {
  const base = binanceSymbol.replace("usdt", "").toUpperCase();
  return {
    ticker: base,
    name: nameMap[binanceSymbol] || base
  };
}

// помогаем JS понять красивое имя и тикер по символу


function renderCryptoRows() {
  const container = document.getElementById("crypto-rows");
  if (!container) return;

  container.innerHTML = ""; // очистить, если уже было

  Object.keys(cryptoMap).forEach(symbol => {
    const { ticker, name } = parseSymbol(symbol);

    const row = document.createElement("div");
    row.className = "market-row";
    row.dataset.symbol = symbol;

    row.innerHTML = `
      <div class="asset">
        <div class="coin">
          <img src="" alt="${name} icon">
        </div>
        <div>
          <div class="symbol">${name} <span>${ticker}</span></div>
        </div>
      </div>
      <div class="price">$0.00</div>
      <div class="change">0.00%</div>
      <div class="spark">
        <svg viewBox="0 0 100 40" preserveAspectRatio="none">
          <path></path>
        </svg>
      </div>
      <div class="market-cap">$0.00</div>
      <div class="volume">$0.00</div>
      <button class="action-btn">Buy</button>
    `;

    container.appendChild(row);
  });
}

async function loadCryptoOnce() {
  try {
    const ids = Object.values(cryptoMap).join(",");
    const res = await fetch(
      `https://api.coingecko.com/api/v3/coins/markets?vs_currency=usd&ids=${ids}&sparkline=true`
    );
    const data = await res.json();

    data.forEach(coin => {
      // находим, какому data-symbol эта монета соответствует
      const symbol = Object.keys(cryptoMap)
  .find(k => cryptoMap[k] === coin.id);
if (!symbol) return;

const rows = document.querySelectorAll(`[data-symbol="${symbol}"]`);
if (!rows.length) return;

rows.forEach(row => {
  // иконка
  const iconEl = row.querySelector(".coin img");
  if (iconEl && coin.image) {
    iconEl.src = coin.image;            // URL иконки с CoinGecko
    iconEl.alt = coin.name + " icon";
  }

  // цена
  const priceEl = row.querySelector(".price");
  if (priceEl) {
    priceEl.textContent = `$${coin.current_price.toLocaleString()}`;
  }

  // 24h change
  const change = coin.price_change_percentage_24h || 0;
  const ch = row.querySelector(".change");
  if (ch) {
    ch.textContent = `${change.toFixed(2)}%`;
    ch.className = "change " + (change >= 0 ? "up" : "down");
  }

  // market cap / volume
  const mcEl = row.querySelector(".market-cap");
  if (mcEl) {
    mcEl.textContent = formatMoney(coin.market_cap);
  }

  const volEl = row.querySelector(".volume");
  if (volEl) {
    volEl.textContent = formatMoney(coin.total_volume);
  }

  // статичный график из sparkline_in_7d
  const path = row.querySelector(".spark path, .spark svg path");
  if (path && coin.sparkline_in_7d && coin.sparkline_in_7d.price) {
    drawSpark(path, coin.sparkline_in_7d.price);
  }
});
    });
  } catch (e) {
    console.error("Crypto load error", e);
  }
  
}

// ===================== FOREX – статично =====================
// ===== FOREX ПАРЫ ПО КАТЕГОРИЯМ =====

// Majors
const forexMajorsMap = {
  eurusd: { base: "EUR", quote: "USD" },
  gbpusd: { base: "GBP", quote: "USD" },
  usdjpy: { base: "USD", quote: "JPY" },
  audusd: { base: "AUD", quote: "USD" },
  usdchf: { base: "USD", quote: "CHF" },
  nzdusd: { base: "NZD", quote: "USD" },
  usdcad: { base: "USD", quote: "CAD" }
};

// Crosses
const forexCrossesMap = {
  eurjpy: { base: "EUR", quote: "JPY" },
  gbpchf: { base: "GBP", quote: "CHF" },
  gbpjpy: { base: "GBP", quote: "JPY" },
  eurchf: { base: "EUR", quote: "CHF" },
  eurgbp: { base: "EUR", quote: "GBP" },
  euraud: { base: "EUR", quote: "AUD" },
  nzdcad: { base: "NZD", quote: "CAD" },
  chfjpy: { base: "CHF", quote: "JPY" },
  gbpaud: { base: "GBP", quote: "AUD" },
  cadjpy: { base: "CAD", quote: "JPY" },
  cadchf: { base: "CAD", quote: "CHF" },
  audnzd: { base: "AUD", quote: "NZD" },
  eurcad: { base: "EUR", quote: "CAD" },
  gbpcad: { base: "GBP", quote: "CAD" },
  audjpy: { base: "AUD", quote: "JPY" },
  audcad: { base: "AUD", quote: "CAD" },
  eurnzd: { base: "EUR", quote: "NZD" },
  audchf: { base: "AUD", quote: "CHF" },
  nzdjpy: { base: "NZD", quote: "JPY" },
  gbpnzd: { base: "GBP", quote: "NZD" },
  nzdchf: { base: "NZD", quote: "CHF" },
  usdpln: { base: "USD", quote: "PLN" },
  eurpln: { base: "EUR", quote: "PLN" }
};

// Exotic
const forexExoticMap = {
  chfsgd: { base: "CHF", quote: "SGD" },
  usdsgd: { base: "USD", quote: "SGD" },
  usdsek: { base: "USD", quote: "SEK" },
  eursek: { base: "EUR", quote: "SEK" },
  usdnok: { base: "USD", quote: "NOK" },
  sgdjpy: { base: "SGD", quote: "JPY" },
  eurnok: { base: "EUR", quote: "NOK" },
  usddkk: { base: "USD", quote: "DKK" },
  eursgd: { base: "EUR", quote: "SGD" },
  eurmxn: { base: "EUR", quote: "MXN" },
  usdmxn: { base: "USD", quote: "MXN" },
  gbpsek: { base: "GBP", quote: "SEK" },
  nokjpy: { base: "NOK", quote: "JPY" },
  usdclp: { base: "USD", quote: "CLP" },
  usdtry: { base: "USD", quote: "TRY" },
  usdzar: { base: "USD", quote: "ZAR" },
  usdcnh: { base: "USD", quote: "CNH" },
  eurtry: { base: "EUR", quote: "TRY" },
  eurcnh: { base: "EUR", quote: "CNH" }
};

// общий объект для расчётов и обновления цен
const forexMap = {
  ...forexMajorsMap,
  ...forexCrossesMap,
  ...forexExoticMap
};

function renderForexRows() {
  const container = document.getElementById("forex-rows");
  if (!container) return;

  container.innerHTML = "";

  Object.entries(forexMap).forEach(([symbol, { base, quote }]) => {
    const label = `${base}/${quote}`;

    const row = document.createElement("div");
    row.className = "market-row";
    row.dataset.forex = symbol; // важно — совпадает с ключом forexMap

    row.innerHTML = `
      <div class="asset">
        <div class="symbol">${label}</div>
      </div>
      <div class="price">0.00000</div>
      <div class="change">0.00%</div>
      <div class="spark">
        <svg viewBox="0 0 100 40" preserveAspectRatio="none">
          <path></path>
        </svg>
      </div>
      <div class="market-cap">—</div>
      <div class="volume">—</div>
      <button class="action-btn">Trade</button>
    `;

    container.appendChild(row);
  });
}

async function loadForexOnce() {
  try {
    const res = await fetch(
      "https://v6.exchangerate-api.com/v6/00596ee6cb427cca4a8467bf/latest/USD"
    );
    const data = await res.json();
    if (data.result !== "success" || !data.conversion_rates) return;

    const r = data.conversion_rates; // r.EUR и т.д.

    // считаем цену для каждой пары из forexMap
    Object.entries(forexMap).forEach(([symbol, { base, quote }]) => {
      const b = base.toUpperCase();
      const q = quote.toUpperCase();
      if (!r[b] || !r[q]) return;

      let price;

      if (q === "USD") {
        // EUR/USD → 1 EUR в USD
        price = 1 / r[b];
      } else if (b === "USD") {
        // USD/JPY → 1 USD в JPY
        price = r[q];
      } else {
        // кросс-пара (EUR/JPY и т.д.)
        const baseUsd = 1 / r[b];
        const quoteUsd = 1 / r[q];
        price = baseUsd / quoteUsd;
      }

      applyForex(symbol, price);
    });
  } catch (e) {
    console.error("Forex load error", e);
  }
}

function applyForex(symbol, price) {
  const rows = document.querySelectorAll(`[data-forex="${symbol}"]`);
  if (!rows.length) return;

  const { quote } = forexMap[symbol] || {};
  const decimals = (quote || "").toUpperCase() === "JPY" ? 3 : 5;
  const basePrice = price;

  rows.forEach(row => {
    // цена
    row.querySelector(".price").textContent = price.toFixed(decimals);

    // небольшое псевдо-изменение
    const change = (Math.random() - 0.5) * 0.4;
    const ch = row.querySelector(".change");
    ch.textContent = `${change.toFixed(2)}%`;
    ch.className = "change " + (change >= 0 ? "up" : "down");

    // спарк
    const series = Array.from({ length: 40 }, () =>
      basePrice + (Math.random() - 0.5) * basePrice * 0.002
    );
    const path = row.querySelector(".spark path, .spark svg path");
    drawSpark(path, series);
  });
}

const PAGE_SIZE = 10;
let cryptoRows = [];
let currentPage = 0;
let paginationInitialized = false;

function initCryptoPagination() {
  // Берём все строки с монетами в crypto-rows
  cryptoRows = Array.from(
    document.querySelectorAll("#crypto-rows .market-row")
  );

  if (!cryptoRows.length) return;

  currentPage = 0;
  showCryptoPage(currentPage);

  const prevBtn = document.getElementById("prev-page");
  const nextBtn = document.getElementById("next-page");

  if (prevBtn && nextBtn) {
    prevBtn.onclick = () => showCryptoPage(currentPage - 1);
    nextBtn.onclick = () => showCryptoPage(currentPage + 1);
  }

  paginationInitialized = true;
}

function showCryptoPage(page) {
  const total = cryptoRows.length;
  const pageCount = Math.ceil(total / PAGE_SIZE) || 1;

  if (page < 0) page = 0;
  if (page > pageCount - 1) page = pageCount - 1;

  currentPage = page;

  const start = currentPage * PAGE_SIZE;
  const end = start + PAGE_SIZE;

  cryptoRows.forEach((row, index) => {
    row.style.display = (index >= start && index < end) ? "grid" : "none";
  });

  const prevBtn = document.getElementById("prev-page");
  const nextBtn = document.getElementById("next-page");

  if (prevBtn) prevBtn.disabled = currentPage === 0;
  if (nextBtn) nextBtn.disabled = currentPage >= pageCount - 1;
}

function renderForexCategoryRows(containerId, map) {
  const container = document.getElementById(containerId);
  if (!container) return;

  container.innerHTML = "";

  Object.entries(map).forEach(([symbol, { base, quote }]) => {
    const label = `${base}/${quote}`;

    const row = document.createElement("div");
    row.className = "market-row";
    row.dataset.forex = symbol; // важно — совпадает с ключом в forexMap

    row.innerHTML = `
      <div class="asset">
        <div class="symbol">${label}</div>
      </div>
      <div class="price">0.00000</div>
      <div class="change">0.00%</div>
      <div class="spark">
        <svg viewBox="0 0 100 40" preserveAspectRatio="none">
          <path></path>
        </svg>
      </div>
      <div class="market-cap">—</div>
      <div class="volume">—</div>
      <button class="action-btn">Trade</button>
    `;

    container.appendChild(row);
  });
}

function renderAllForexRows() {
  // Render
  renderForexCategoryRows("forex-majors-rows", forexMajorsMap);
  renderForexCategoryRows("forex-crosses-rows", forexCrossesMap);
  renderForexCategoryRows("forex-exotic-rows", forexExoticMap);

  // Save arrays
  majorsRows = Array.from(document.querySelectorAll("#forex-majors-rows .market-row"));
  crossesRows = Array.from(document.querySelectorAll("#forex-crosses-rows .market-row"));
  exoticRows = Array.from(document.querySelectorAll("#forex-exotic-rows .market-row"));

  // Show first pages
  majorsPage = showForexPage(majorsRows, 0, "majors");
  crossesPage = showForexPage(crossesRows, 0, "crosses");
  exoticPage = showForexPage(exoticRows, 0, "exotic");

  // Attach buttons
  document.getElementById("majors-prev").onclick = () => {
    majorsPage = showForexPage(majorsRows, majorsPage - 1);
  };
  document.getElementById("majors-next").onclick = () => {
    majorsPage = showForexPage(majorsRows, majorsPage + 1);
  };

  document.getElementById("crosses-prev").onclick = () => {
    crossesPage = showForexPage(crossesRows, crossesPage - 1);
  };
  document.getElementById("crosses-next").onclick = () => {
    crossesPage = showForexPage(crossesRows, crossesPage + 1);
  };

  document.getElementById("exotic-prev").onclick = () => {
    exoticPage = showForexPage(exoticRows, exoticPage - 1);
  };
  document.getElementById("exotic-next").onclick = () => {
    exoticPage = showForexPage(exoticRows, exoticPage + 1);
  };
}

// ===================== ЗАПУСК ОДИН РАЗ ПРИ ЗАГРУЗКЕ =====================
// renderCryptoRows();
// renderForexRows();
// loadCryptoOnce();
// loadForexOnce();
// loadStocksOnce();

hideAuth();

function hideHomeSections() {
  // секции главной
  const hero = document.querySelector(".hero");
  const firstMarkets = document.querySelectorAll(".markets")[0];
  const forexSection = document.querySelector("#forex");
  const stocksSection = document.querySelector("#stocks");
  const steps = document.querySelector("#steps");
  const faq = document.querySelector("#faq");
  const partners = document.querySelector(".partners-strip");

  if (hero) hero.style.display = "none";
  if (firstMarkets) firstMarkets.style.display = "none";
  if (forexSection) forexSection.style.display = "none";
  if (stocksSection) stocksSection.style.display = "none";
  if (steps) steps.style.display = "none";
  if (faq) faq.style.display = "none";
  if (partners) partners.style.display = "none";
}



function openCabinetPage(){
  hideAuth();
  hideAllPages();
  hideHomeSections();

  document.body.classList.add("cabinet-mode");

  const el = document.getElementById("cabinet-page");
  if (el) el.style.display = "block";

  location.hash = "cabinet";
  window.scrollTo({top:0, behavior:"smooth"});
}

function openCabinetTab(tab){
  // active в меню
  document.querySelectorAll("#cabinet-nav a").forEach(a => {
    a.classList.toggle("active", a.dataset.tab === tab);
  });

  // простой демо-контент
  const content = document.getElementById("cabinet-content");
  if (!content) return;
  const title = tab.charAt(0).toUpperCase() + tab.slice(1);

  content.innerHTML = `
    <h1 style="margin:0 0 12px; font-size:34px;">${title}</h1>
    <p style="opacity:.7; margin:0;">Section "${tab}" content will be here.</p>
  `;
}


function openChatPage(){
  hideAuth();
  hideAllPages();
  hideHomeSections();
  document.getElementById("chat-page").style.display = "block";
  location.hash = "chat";
  window.scrollTo({ top: 0, behavior: "smooth" });
}

function openFeedbackPage(){
  hideAuth();
  hideAllPages();
  hideHomeSections();
  document.getElementById("feedback-page").style.display = "block";
  location.hash = "feedback";
  window.scrollTo({ top: 0, behavior: "smooth" });
}

function openFeesPage(){
  hideAuth();
  hideAllPages();
  hideHomeSections();
  document.getElementById("fees-page").style.display = "block";
  location.hash = "fees";
  window.scrollTo({ top: 0, behavior: "smooth" });
}

function openAgreementPage(){
  hideAuth();
  hideAllPages();
  hideHomeSections();
  document.getElementById("agreement-page").style.display = "block";
  location.hash = "agreement";
  window.scrollTo({ top: 0, behavior: "smooth" });
}

function openPrivacyPage(){
  hideAuth();
  hideAllPages();
  hideHomeSections();
  document.getElementById("privacy-page").style.display = "block";
  location.hash = "privacy";
  window.scrollTo({ top: 0, behavior: "smooth" });
}

function openDisclaimerPage(){
  hideAuth();
  hideAllPages();
  hideHomeSections();
  document.getElementById("disclaimer-page").style.display = "block";
  location.hash = "disclaimer";
  window.scrollTo({ top: 0, behavior: "smooth" });
}

function openRiskPage(){
  hideAuth();
  hideAllPages();
  hideHomeSections();
  document.getElementById("risk-page").style.display = "block";
  location.hash = "risk";
  window.scrollTo({ top: 0, behavior: "smooth" });
}


function openNewsPage() {
  hideAuth();

  const hero = document.querySelector(".hero");
  const firstMarkets = document.querySelectorAll(".markets")[0];
  const forexSection = document.querySelector("#forex");
  const stocksSection = document.querySelector("#stocks");
  const cryptoPage = document.querySelector("#crypto-page");
  const forexPage = document.querySelector("#forex-page");
  const stocksPage = document.querySelector("#stocks-page");
  const steps = document.querySelector("#steps");
  const faq = document.querySelector("#faq");
  const partners = document.querySelector(".partners-strip");

  const aboutPage = document.querySelector("#about-page");
  const newsPage = document.querySelector("#news-page");
  const blogPage = document.querySelector("#blog-page");
  const chatPage = document.getElementById("chat-page");
const feedbackPage = document.getElementById("feedback-page");
const feesPage = document.getElementById("fees-page");
const agreementPage = document.getElementById("agreement-page");
const privacyPage = document.getElementById("privacy-page");
const disclaimerPage = document.getElementById("disclaimer-page");
const riskPage = document.getElementById("risk-page");

if (chatPage) chatPage.style.display = "none";
if (feedbackPage) feedbackPage.style.display = "none";
if (feesPage) feesPage.style.display = "none";
if (agreementPage) agreementPage.style.display = "none";
if (privacyPage) privacyPage.style.display = "none";
if (disclaimerPage) disclaimerPage.style.display = "none";
if (riskPage) riskPage.style.display = "none";


  if (hero) hero.style.display = "none";
  if (firstMarkets) firstMarkets.style.display = "none";
  if (forexSection) forexSection.style.display = "none";
  if (stocksSection) stocksSection.style.display = "none";
  if (steps) steps.style.display = "none";
  if (faq) faq.style.display = "none";
  if (partners) partners.style.display = "none";

  if (cryptoPage) cryptoPage.style.display = "none";
  if (forexPage) forexPage.style.display = "none";
  if (stocksPage) stocksPage.style.display = "none";

  if (aboutPage) aboutPage.style.display = "none";
  if (blogPage) blogPage.style.display = "none";

  if (newsPage) newsPage.style.display = "block";

  location.hash = "news";
  window.scrollTo({ top: 0, behavior: "smooth" });
}

function openBlogPage() {
  hideAuth();

  const hero = document.querySelector(".hero");
  const firstMarkets = document.querySelectorAll(".markets")[0];
  const forexSection = document.querySelector("#forex");
  const stocksSection = document.querySelector("#stocks");
  const cryptoPage = document.querySelector("#crypto-page");
  const forexPage = document.querySelector("#forex-page");
  const stocksPage = document.querySelector("#stocks-page");
  const steps = document.querySelector("#steps");
  const faq = document.querySelector("#faq");
  const partners = document.querySelector(".partners-strip");

  const aboutPage = document.querySelector("#about-page");
  const newsPage = document.querySelector("#news-page");
  const blogPage = document.querySelector("#blog-page");
  const chatPage = document.getElementById("chat-page");
const feedbackPage = document.getElementById("feedback-page");
const feesPage = document.getElementById("fees-page");
const agreementPage = document.getElementById("agreement-page");
const privacyPage = document.getElementById("privacy-page");
const disclaimerPage = document.getElementById("disclaimer-page");
const riskPage = document.getElementById("risk-page");

if (chatPage) chatPage.style.display = "none";
if (feedbackPage) feedbackPage.style.display = "none";
if (feesPage) feesPage.style.display = "none";
if (agreementPage) agreementPage.style.display = "none";
if (privacyPage) privacyPage.style.display = "none";
if (disclaimerPage) disclaimerPage.style.display = "none";
if (riskPage) riskPage.style.display = "none";


  if (hero) hero.style.display = "none";
  if (firstMarkets) firstMarkets.style.display = "none";
  if (forexSection) forexSection.style.display = "none";
  if (stocksSection) stocksSection.style.display = "none";
  if (steps) steps.style.display = "none";
  if (faq) faq.style.display = "none";
  if (partners) partners.style.display = "none";

  if (cryptoPage) cryptoPage.style.display = "none";
  if (forexPage) forexPage.style.display = "none";
  if (stocksPage) stocksPage.style.display = "none";

  if (aboutPage) aboutPage.style.display = "none";
  if (newsPage) newsPage.style.display = "none";

  if (blogPage) blogPage.style.display = "block";

  location.hash = "blog";
  window.scrollTo({ top: 0, behavior: "smooth" });
}


function openCryptoPage() {
  hideAuth();
  const hero = document.querySelector(".hero");
  const firstMarkets = document.querySelectorAll(".markets")[0];
  const forexSection = document.querySelector("#forex");
  const stocksSection = document.querySelector("#stocks");
  const forexPage = document.querySelector("#forex-page");
  const cryptoPage = document.querySelector("#crypto-page");
  const stocksPage = document.querySelector("#stocks-page");
  const steps = document.querySelector("#steps");
  const faq = document.querySelector("#faq");
  const partners = document.querySelector(".partners-strip");
  const aboutPage = document.querySelector("#about-page");
  const newsPage = document.querySelector("#news-page");
const blogPage = document.querySelector("#blog-page");
const chatPage = document.getElementById("chat-page");
const feedbackPage = document.getElementById("feedback-page");
const feesPage = document.getElementById("fees-page");
const agreementPage = document.getElementById("agreement-page");
const privacyPage = document.getElementById("privacy-page");
const disclaimerPage = document.getElementById("disclaimer-page");
const riskPage = document.getElementById("risk-page");

if (chatPage) chatPage.style.display = "none";
if (feedbackPage) feedbackPage.style.display = "none";
if (feesPage) feesPage.style.display = "none";
if (agreementPage) agreementPage.style.display = "none";
if (privacyPage) privacyPage.style.display = "none";
if (disclaimerPage) disclaimerPage.style.display = "none";
if (riskPage) riskPage.style.display = "none";

if (newsPage) newsPage.style.display = "none";
if (blogPage) blogPage.style.display = "none";

if (aboutPage) aboutPage.style.display = "none";

  if (hero) hero.style.display = "none";
  if (firstMarkets) firstMarkets.style.display = "none";
  if (forexSection) forexSection.style.display = "none";
  if (stocksSection) stocksSection.style.display = "none";
  if (steps) steps.style.display = "none";
  if (faq) faq.style.display = "none";
  if (partners) partners.style.display = "none";
  if (forexPage) forexPage.style.display = "none";
  if (stocksPage) stocksPage.style.display = "none";

  if (cryptoPage) cryptoPage.style.display = "block";
  if (loginPage) loginPage.style.display = "none";

  if (!paginationInitialized) {
    initCryptoPagination();
  }
  loadCryptoOnce();

  window.scrollTo({ top: 0, behavior: "smooth" });
  location.hash = "crypto";
}

function openForexPage() {
  hideAuth();
  const hero = document.querySelector(".hero");
  const firstMarkets = document.querySelectorAll(".markets")[0];
  const forexSection = document.querySelector("#forex");
  const stocksSection = document.querySelector("#stocks");
  const cryptoPage = document.querySelector("#crypto-page");
  const forexPage = document.querySelector("#forex-page");
  const stocksPage = document.querySelector("#stocks-page");
  const steps = document.querySelector("#steps");
  const faq = document.querySelector("#faq");
  const partners = document.querySelector(".partners-strip");
  const aboutPage = document.querySelector("#about-page");
  const newsPage = document.querySelector("#news-page");
const blogPage = document.querySelector("#blog-page");
const chatPage = document.getElementById("chat-page");
const feedbackPage = document.getElementById("feedback-page");
const feesPage = document.getElementById("fees-page");
const agreementPage = document.getElementById("agreement-page");
const privacyPage = document.getElementById("privacy-page");
const disclaimerPage = document.getElementById("disclaimer-page");
const riskPage = document.getElementById("risk-page");

if (chatPage) chatPage.style.display = "none";
if (feedbackPage) feedbackPage.style.display = "none";
if (feesPage) feesPage.style.display = "none";
if (agreementPage) agreementPage.style.display = "none";
if (privacyPage) privacyPage.style.display = "none";
if (disclaimerPage) disclaimerPage.style.display = "none";
if (riskPage) riskPage.style.display = "none";

if (newsPage) newsPage.style.display = "none";
if (blogPage) blogPage.style.display = "none";

if (aboutPage) aboutPage.style.display = "none";

  if (hero) hero.style.display = "none";
  if (firstMarkets) firstMarkets.style.display = "none";
  if (forexSection) forexSection.style.display = "none";
  if (stocksSection) stocksSection.style.display = "none";
  if (steps) steps.style.display = "none";
  if (faq) faq.style.display = "none";
  if (partners) partners.style.display = "none";
  if (cryptoPage) cryptoPage.style.display = "none";
  if (stocksPage) stocksPage.style.display = "none";

  if (forexPage) forexPage.style.display = "block";
  if (loginPage) loginPage.style.display = "none";

  renderAllForexRows();
  loadForexOnce();

  window.scrollTo({ top: 0, behavior: "smooth" });
  location.hash = "forex";
}

function openAboutPage() {
  hideAuth();

  const hero = document.querySelector(".hero");
  const firstMarkets = document.querySelectorAll(".markets")[0];
  const forexSection = document.querySelector("#forex");
  const stocksSection = document.querySelector("#stocks");
  const cryptoPage = document.querySelector("#crypto-page");
  const forexPage = document.querySelector("#forex-page");
  const stocksPage = document.querySelector("#stocks-page");
  const steps = document.querySelector("#steps");
  const faq = document.querySelector("#faq");
  const partners = document.querySelector(".partners-strip");
  const aboutPage = document.querySelector("#about-page");
  const newsPage = document.querySelector("#news-page");
const blogPage = document.querySelector("#blog-page");
const chatPage = document.getElementById("chat-page");
const feedbackPage = document.getElementById("feedback-page");
const feesPage = document.getElementById("fees-page");
const agreementPage = document.getElementById("agreement-page");
const privacyPage = document.getElementById("privacy-page");
const disclaimerPage = document.getElementById("disclaimer-page");
const riskPage = document.getElementById("risk-page");

if (chatPage) chatPage.style.display = "none";
if (feedbackPage) feedbackPage.style.display = "none";
if (feesPage) feesPage.style.display = "none";
if (agreementPage) agreementPage.style.display = "none";
if (privacyPage) privacyPage.style.display = "none";
if (disclaimerPage) disclaimerPage.style.display = "none";
if (riskPage) riskPage.style.display = "none";

if (newsPage) newsPage.style.display = "none";
if (blogPage) blogPage.style.display = "none";


  if (hero) hero.style.display = "none";
  if (firstMarkets) firstMarkets.style.display = "none";
  if (forexSection) forexSection.style.display = "none";
  if (stocksSection) stocksSection.style.display = "none";
  if (steps) steps.style.display = "none";
  if (faq) faq.style.display = "none";
  if (partners) partners.style.display = "none";

  if (cryptoPage) cryptoPage.style.display = "none";
  if (forexPage) forexPage.style.display = "none";
  if (stocksPage) stocksPage.style.display = "none";

  if (aboutPage) aboutPage.style.display = "block";

  window.scrollTo({ top: 0, behavior: "smooth" });
  location.hash = "about";
}

function openStocksPage() {
  hideAuth();
  const hero = document.querySelector(".hero");
  const firstMarkets = document.querySelectorAll(".markets")[0];
  const forexSection = document.querySelector("#forex");
  const stocksSection = document.querySelector("#stocks");
  const cryptoPage = document.querySelector("#crypto-page");
  const forexPage = document.querySelector("#forex-page");
  const stocksPage = document.querySelector("#stocks-page");
  const steps = document.querySelector("#steps");
  const faq = document.querySelector("#faq");
  const partners = document.querySelector(".partners-strip");
  const aboutPage = document.querySelector("#about-page");
  const newsPage = document.querySelector("#news-page");
const blogPage = document.querySelector("#blog-page");
const chatPage = document.getElementById("chat-page");
const feedbackPage = document.getElementById("feedback-page");
const feesPage = document.getElementById("fees-page");
const agreementPage = document.getElementById("agreement-page");
const privacyPage = document.getElementById("privacy-page");
const disclaimerPage = document.getElementById("disclaimer-page");
const riskPage = document.getElementById("risk-page");

if (chatPage) chatPage.style.display = "none";
if (feedbackPage) feedbackPage.style.display = "none";
if (feesPage) feesPage.style.display = "none";
if (agreementPage) agreementPage.style.display = "none";
if (privacyPage) privacyPage.style.display = "none";
if (disclaimerPage) disclaimerPage.style.display = "none";
if (riskPage) riskPage.style.display = "none";

if (newsPage) newsPage.style.display = "none";
if (blogPage) blogPage.style.display = "none";

if (aboutPage) aboutPage.style.display = "none";

  if (hero) hero.style.display = "none";
  if (firstMarkets) firstMarkets.style.display = "none";
  if (forexSection) forexSection.style.display = "none";
  if (stocksSection) stocksSection.style.display = "none";
  if (steps) steps.style.display = "none";
  if (faq) faq.style.display = "none";
  if (partners) partners.style.display = "none";
  if (cryptoPage) cryptoPage.style.display = "none";
  if (forexPage) forexPage.style.display = "none";

  if (stocksPage) stocksPage.style.display = "block";
  if (loginPage) loginPage.style.display = "none";

  if (!stocksPageInitialized) {
    renderStocksRows();
    initStocksPagination();
    stocksPageInitialized = true;
  }

  // ВАЖНО: подгружаем котировки уже ПОСЛЕ того,
  // как строки акций нарисованы
  // loadStocksOnce();

  window.scrollTo({ top: 0, behavior: "smooth" });
  location.hash = "stocks";
}


function openHomePage() {
  hideAuth();
  // обёртки страниц
  const homePage = document.getElementById("home-page");
  const signupPage = document.getElementById("signup-page");
  const loginPage = document.getElementById("login-page");

  // секции внутри главной
  const hero = document.querySelector(".hero");
  const firstMarkets = document.querySelectorAll(".markets")[0];
  const forexSection = document.querySelector("#forex");
  const stocksSection = document.querySelector("#stocks");
  const cryptoPage = document.querySelector("#crypto-page");
  const forexPage = document.querySelector("#forex-page");
  const stocksPage = document.querySelector("#stocks-page");
  const steps = document.querySelector("#steps");
  const faq = document.querySelector("#faq");
  const partners = document.querySelector(".partners-strip");
  const aboutPage = document.querySelector("#about-page");
  const newsPage = document.querySelector("#news-page");
const blogPage = document.querySelector("#blog-page");
const chatPage = document.getElementById("chat-page");
const feedbackPage = document.getElementById("feedback-page");
const feesPage = document.getElementById("fees-page");
const agreementPage = document.getElementById("agreement-page");
const privacyPage = document.getElementById("privacy-page");
const disclaimerPage = document.getElementById("disclaimer-page");
const riskPage = document.getElementById("risk-page");

if (chatPage) chatPage.style.display = "none";
if (feedbackPage) feedbackPage.style.display = "none";
if (feesPage) feesPage.style.display = "none";
if (agreementPage) agreementPage.style.display = "none";
if (privacyPage) privacyPage.style.display = "none";
if (disclaimerPage) disclaimerPage.style.display = "none";
if (riskPage) riskPage.style.display = "none";

if (newsPage) newsPage.style.display = "none";
if (blogPage) blogPage.style.display = "none";

if (aboutPage) aboutPage.style.display = "none";

  // показываем главную обёртку
  if (homePage) homePage.style.display = "block";

  // скрываем формы
  if (signupPage) signupPage.style.display = "none";
  if (loginPage) loginPage.style.display = "none";

  // включаем секции главной
  if (hero) hero.style.display = "";
  if (firstMarkets) firstMarkets.style.display = "";
  if (forexSection) forexSection.style.display = "";
  if (stocksSection) stocksSection.style.display = "";
  if (steps) steps.style.display = "";
  if (faq) faq.style.display = "";
  if (partners) partners.style.display = "";

  // выключаем страницы Learn More
  if (cryptoPage) cryptoPage.style.display = "none";
  if (forexPage) forexPage.style.display = "none";
  if (stocksPage) stocksPage.style.display = "none";

  window.scrollTo({ top: 0, behavior: "smooth" });
  location.hash = "home";
  document.body.classList.remove("cabinet-mode");
}

function hideAuth() {
  const ids = ["login-page", "signup-page", "reset-email-page", "reset-confirm-page"];
  ids.forEach(id => {
    const el = document.getElementById(id);
    if (el) el.style.display = "none";
  });
}




document.getElementById("crypto-search").addEventListener("input", function () {
  const value = this.value.trim().toLowerCase();
  const allRows = Array.from(
    document.querySelectorAll("#crypto-rows .market-row")
  );

  const prevBtn = document.getElementById("prev-page");
  const nextBtn = document.getElementById("next-page");

  // Если поиск пустой — показываем все монеты с обычной пагинацией
  if (!value) {
    cryptoRows = allRows;
    currentPage = 0;

    // сначала прячем все
    allRows.forEach(r => (r.style.display = "none"));
    // потом показываем первую страницу
    showCryptoPage(currentPage);

    if (prevBtn) prevBtn.disabled = true;
    if (nextBtn) nextBtn.disabled = cryptoRows.length <= PAGE_SIZE;
    return;
  }

  // Фильтруем строки по имени, тикеру и data-symbol
  cryptoRows = allRows.filter(row => {
    const text = row.querySelector(".symbol").textContent.toLowerCase(); // "bitcoin btc"
    const symbol = (row.dataset.symbol || "").toLowerCase();             // "btcusdt"
    return (
      text.includes(value) ||
      symbol.includes(value)
    );
  });

  // Сначала скрываем всё
  allRows.forEach(row => {
    row.style.display = "none";
  });

  // Если ничего не нашли — выключаем стрелки
  if (!cryptoRows.length) {
    if (prevBtn) prevBtn.disabled = true;
    if (nextBtn) nextBtn.disabled = true;
    return;
  }

  // Нашли — показываем первую страницу результатов
  currentPage = 0;
  showCryptoPage(currentPage);

  if (prevBtn) prevBtn.disabled = true;
  if (nextBtn) nextBtn.disabled = cryptoRows.length <= PAGE_SIZE;
});



// Сколько пар показывать на странице
const FOREX_PAGE_SIZE = 5;

// Храним страницы
let majorsPage = 0;
let crossesPage = 0;
let exoticPage = 0;

// Храним массивы строк
let majorsRows = [];
let crossesRows = [];
let exoticRows = [];

// Общая функция показа страниц
function showForexPage(rows, page, containerId) {
  const total = rows.length;
  const pageCount = Math.ceil(total / FOREX_PAGE_SIZE);

  if (page < 0) page = 0;
  if (page >= pageCount) page = pageCount - 1;

  const start = page * FOREX_PAGE_SIZE;
  const end = start + FOREX_PAGE_SIZE;

  rows.forEach((row, index) => {
    row.style.display = index >= start && index < end ? "grid" : "none";
  });

  return page;
}

// ===== ПОИСК ПО FOREX НА LEARN MORE =====
const forexSearch = document.getElementById("forex-search");

if (forexSearch) {
  forexSearch.addEventListener("input", function () {
    const value = this.value.trim().toLowerCase();

    const majorsAll = Array.from(
      document.querySelectorAll("#forex-majors-rows .market-row")
    );
    const crossesAll = Array.from(
      document.querySelectorAll("#forex-crosses-rows .market-row")
    );
    const exoticAll = Array.from(
      document.querySelectorAll("#forex-exotic-rows .market-row")
    );

    const majorsPrev = document.getElementById("majors-prev");
    const majorsNext = document.getElementById("majors-next");
    const crossesPrev = document.getElementById("crosses-prev");
    const crossesNext = document.getElementById("crosses-next");
    const exoticPrev = document.getElementById("exotic-prev");
    const exoticNext = document.getElementById("exotic-next");

    // Если строка поиска пустая — возвращаем обычную пагинацию
    if (!value) {
      majorsRows = majorsAll;
      crossesRows = crossesAll;
      exoticRows = exoticAll;

      majorsPage = showForexPage(majorsRows, 0);
      crossesPage = showForexPage(crossesRows, 0);
      exoticPage = showForexPage(exoticRows, 0);

      if (majorsPrev && majorsNext) {
        majorsPrev.disabled = majorsRows.length <= FOREX_PAGE_SIZE;
        majorsNext.disabled = majorsRows.length <= FOREX_PAGE_SIZE;
      }
      if (crossesPrev && crossesNext) {
        crossesPrev.disabled = crossesRows.length <= FOREX_PAGE_SIZE;
        crossesNext.disabled = crossesRows.length <= FOREX_PAGE_SIZE;
      }
      if (exoticPrev && exoticNext) {
        exoticPrev.disabled = exoticRows.length <= FOREX_PAGE_SIZE;
        exoticNext.disabled = exoticRows.length <= FOREX_PAGE_SIZE;
      }
      return;
    }

    // Функция фильтра строки по запросу
    const matchRow = row => {
      const text = row.querySelector(".symbol").textContent.toLowerCase(); // "eur/usd"
      const symbol = (row.dataset.forex || "").toLowerCase();            // "eurusd"
      return text.includes(value) || symbol.includes(value);
    };

    // Фильтруем все три блока
    majorsRows = majorsAll.filter(matchRow);
    crossesRows = crossesAll.filter(matchRow);
    exoticRows = exoticAll.filter(matchRow);

    // Показываем только подходящее, без пагинации
    majorsAll.forEach(r => {
      r.style.display = majorsRows.includes(r) ? "grid" : "none";
    });
    crossesAll.forEach(r => {
      r.style.display = crossesRows.includes(r) ? "grid" : "none";
    });
    exoticAll.forEach(r => {
      r.style.display = exoticRows.includes(r) ? "grid" : "none";
    });

    // На время поиска отключаем стрелки
    if (majorsPrev && majorsNext) {
      majorsPrev.disabled = true;
      majorsNext.disabled = true;
    }
    if (crossesPrev && crossesNext) {
      crossesPrev.disabled = true;
      crossesNext.disabled = true;
    }
    if (exoticPrev && exoticNext) {
      exoticPrev.disabled = true;
      exoticNext.disabled = true;
    }
  });
}

// ===== FAQ accordion =====
document.querySelectorAll(".faq-head").forEach(btn => {
  btn.addEventListener("click", () => {
    const item = btn.closest(".faq-item");
    const isOpen = item.classList.contains("open");

    // если хочешь, чтобы был открыт только один — закрываем остальные
    document.querySelectorAll(".faq-item.open").forEach(openItem => {
      if (openItem !== item) openItem.classList.remove("open");
    });

    // переключаем текущий
    item.classList.toggle("open", !isOpen);
  });
});

// ===================== STOCKS CONFIG (без ключей, как crypto/forex) =====================

const stockmap = {
  // ============ MEDICAL CANNABIS ============
  tlry: { name: "Tilray Inc.", symbol: "TLRY", sector: "medical_cannabis" },
  cron: { name: "Cronos Group Inc.", symbol: "CRON", sector: "medical_cannabis" },
  acb:  { name: "Aurora Cannabis Inc.", symbol: "ACB", sector: "medical_cannabis" },

  // ============ AUTOMOBILE ============
  race:  { name: "Ferrari", symbol: "RACE", sector: "automobile" },
  tsla:  { name: "Tesla Motors", symbol: "TSLA", sector: "automobile" },
  f:     { name: "Ford Motor", symbol: "F", sector: "automobile" },
  hog:   { name: "Harley-Davidson", symbol: "HOG", sector: "automobile" },
  tm:    { name: "Toyota Motor", symbol: "TM", sector: "automobile" },
  bmwy:  { name: "Bayerische Motoren Werke AG", symbol: "BMWYY", sector: "automobile" },
  vwgy:  { name: "Volkswagen AG", symbol: "VWAGY", sector: "automobile" },
  rnlsy: { name: "Renault SA", symbol: "RNLSY", sector: "automobile" },

  // ============ CONSUMER GOODS ============
  nke: { name: "Nike", symbol: "NKE", sector: "consumer_goods" },
  ko:  { name: "The Coca-Cola", symbol: "KO", sector: "consumer_goods" },
  pg:  { name: "Procter & Gamble", symbol: "PG", sector: "consumer_goods" },
  pm:  { name: "Philip Morris International", symbol: "PM", sector: "consumer_goods" },
  addyy: { name: "Adidas AG", symbol: "ADDYY", sector: "consumer_goods" },
  idexy: { name: "IndiTex SA", symbol: "IDEXY", sector: "consumer_goods" },
  atvi:  { name: "Activision Blizzard", symbol: "ATVI", sector: "consumer_goods" },
  amc:   { name: "AMC Entertainment Holdings", symbol: "AMC", sector: "consumer_goods" },
  gme:   { name: "GameStop Corp.", symbol: "GME", sector: "consumer_goods" },

  // ============ CONSUMER SERVICES ============
  sbux: { name: "Starbucks", symbol: "SBUX", sector: "consumer_services" },
  dis:  { name: "Walt Disney", symbol: "DIS", sector: "consumer_services" },
  mcd:  { name: "McDonald's", symbol: "MCD", sector: "consumer_services" },
  hd:   { name: "Home Depot", symbol: "HD", sector: "consumer_services" },
  baba: { name: "Alibaba Group", symbol: "BABA", sector: "consumer_services" },
  ebay: { name: "eBay", symbol: "EBAY", sector: "consumer_services" },
  trip: { name: "TripAdvisor", symbol: "TRIP", sector: "consumer_services" },
  ntdoy: { name: "Nintendo (US)", symbol: "NTDOY", sector: "consumer_services" },
  nintendojp: { name: "Nintendo (JP)", symbol: "7974.T", sector: "consumer_services" },
  lyft: { name: "LYFT Inc.", symbol: "LYFT", sector: "consumer_services" },
  uber: { name: "Uber Technologies", symbol: "UBER", sector: "consumer_services" },

  // ============ HEALTHCARE ============
  jnj:  { name: "Johnson & Johnson", symbol: "JNJ", sector: "healthcare" },
  pfe:  { name: "Pfizer", symbol: "PFE", sector: "healthcare" },
  unh:  { name: "UnitedHealth Group", symbol: "UNH", sector: "healthcare" },
  bayry: { name: "BAYER AG", symbol: "BAYRY", sector: "healthcare" },
  mrna: { name: "Moderna", symbol: "MRNA", sector: "healthcare" },
  gild: { name: "Gilead Sciences", symbol: "GILD", sector: "healthcare" },

  // ============ FINANCE ============
  bac: { name: "Bank of America", symbol: "BAC", sector: "finance" },
  axp: { name: "American Express", symbol: "AXP", sector: "finance" },
  c:   { name: "Citigroup", symbol: "C", sector: "finance" },
  v:   { name: "Visa", symbol: "V", sector: "finance" },
  jpm: { name: "JPMorgan Chase", symbol: "JPM", sector: "finance" },
  ma:  { name: "MasterCard", symbol: "MA", sector: "finance" },
  trv: { name: "The Travelers Companies", symbol: "TRV", sector: "finance" },
  idcby: { name: "Industrial & Commercial Bank of China", symbol: "IDCBY", sector: "finance" },
  bsac: { name: "Banco Santander Chile", symbol: "BSAC", sector: "finance" },
  gs:   { name: "Goldman Sachs", symbol: "GS", sector: "finance" },
  db:   { name: "Deutsche Bank AG", symbol: "DB", sector: "finance" },
  wfc:  { name: "Wells Fargo", symbol: "WFC", sector: "finance" },
  bnpqy: { name: "BNP Paribas SA", symbol: "BNPQY", sector: "finance" },
  coin: { name: "Coinbase Global Inc.", symbol: "COIN", sector: "finance" },

  // ============ ENERGY ============
  xom:   { name: "Exxon Mobil", symbol: "XOM", sector: "energy" },
  pbr:   { name: "Petrobras", symbol: "PBR", sector: "energy" },
  eni:   { name: "ENI SPA", symbol: "E", sector: "energy" },
  enlay: { name: "ENEL SPA", symbol: "ENLAY", sector: "energy" },
  repsa: { name: "Repsol SA", symbol: "REPYY", sector: "energy" },
  enic:  { name: "Enel Chile S.A.", symbol: "ENIC", sector: "energy" },

  // ============ INDUSTRIALS ============
  ba:  { name: "Boeing", symbol: "BA", sector: "industrials" },
  cat: { name: "Caterpillar", symbol: "CAT", sector: "industrials" },
  ge:  { name: "General Electric", symbol: "GE", sector: "industrials" },
  basfy: { name: "BASF SE", symbol: "BASFY", sector: "industrials" },
  eadsy: { name: "Airbus SE", symbol: "EADSY", sector: "industrials" },
  luv: { name: "Southwest Airlines Co", symbol: "LUV", sector: "industrials" },
  tuify: { name: "TUI AG", symbol: "TUIFY", sector: "industrials" },
  save: { name: "Spirit Airlines", symbol: "SAVE", sector: "industrials" },
  rcl:  { name: "Royal Caribbean Cruises", symbol: "RCL", sector: "industrials" },
  nclh: { name: "Norwegian Cruise Line", symbol: "NCLH", sector: "industrials" },
  afly: { name: "Air France KLM SA", symbol: "AFLYY", sector: "industrials" },
  ryaay: { name: "Ryanair Holdings", symbol: "RYAAY", sector: "industrials" },
  ccl:  { name: "Carnival Corp", symbol: "CCL", sector: "industrials" },
  wynn: { name: "Wynn Resorts", symbol: "WYNN", sector: "industrials" },
  spce: { name: "Virgin Galactic", symbol: "SPCE", sector: "industrials" },

  // ============ LUXURY ============
  el: { name: "Estée Lauder", symbol: "EL", sector: "luxury" },
  jwn: { name: "Nordstrom", symbol: "JWN", sector: "luxury" },
  pvh: { name: "PVH", symbol: "PVH", sector: "luxury" },
  rl:  { name: "Ralph Lauren", symbol: "RL", sector: "luxury" },
  vfc: { name: "VF Corporation", symbol: "VFC", sector: "luxury" },
  wsm: { name: "Williams-Sonoma", symbol: "WSM", sector: "luxury" },

  // ============ TELECOMMUNICATIONS ============
  t:   { name: "AT&T", symbol: "T", sector: "telecommunications" },
  vz:  { name: "Verizon Communications", symbol: "VZ", sector: "telecommunications" },
  vod: { name: "Vodafone Group", symbol: "VOD", sector: "telecommunications" },

  // ============ TECHNOLOGIES ============
  aapl: { name: "Apple", symbol: "AAPL", sector: "technologies" },
  msft: { name: "Microsoft", symbol: "MSFT", sector: "technologies" },
  googl: { name: "Alphabet (Google)", symbol: "GOOGL", sector: "technologies" },
  meta:  { name: "Meta Platforms", symbol: "META", sector: "technologies" },
  nvda:  { name: "NVIDIA", symbol: "NVDA", sector: "technologies" },
  nflx:  { name: "Netflix", symbol: "NFLX", sector: "technologies" },
  amd:   { name: "AMD", symbol: "AMD", sector: "technologies" },
  intc:  { name: "Intel", symbol: "INTC", sector: "technologies" },
  crm:   { name: "Salesforce", symbol: "CRM", sector: "technologies" },

  // ============ MATERIALS ============
  rio: { name: "Rio Tinto", symbol: "RIO", sector: "materials" },
  bhp: { name: "BHP Group", symbol: "BHP", sector: "materials" },
  mt:  { name: "ArcelorMittal", symbol: "MT", sector: "materials" },
  shw: { name: "Sherwin-Williams", symbol: "SHW", sector: "materials" }
};

// ===================== SYNTHETIC STOCKS (без API) =====================

const stockState = {};
const STOCK_HISTORY_POINTS = 40;
const STOCK_STORAGE_KEY = "astrax_stock_state_v1"; // <-- добавили ключ

// базовая цена по сектору, чтобы всё выглядело логично
function getSyntheticBasePrice(sector) {
  switch (sector) {
    case "medical_cannabis":   return 8 + Math.random() * 12;    // 8–20$
    case "automobile":         return 50 + Math.random() * 200;  // 50–250$
    case "consumer_goods":     return 20 + Math.random() * 80;   // 20–100$
    case "consumer_services":  return 15 + Math.random() * 120;  // 15–135$
    case "healthcare":         return 30 + Math.random() * 90;   // 30–120$
    case "finance":            return 25 + Math.random() * 120;  // 25–145$
    case "energy":             return 15 + Math.random() * 80;   // 15–95$
    case "industrials":        return 20 + Math.random() * 150;  // 20–170$
    case "luxury":             return 50 + Math.random() * 250;  // 50–300$
    case "telecommunications": return 10 + Math.random() * 50;   // 10–60$
    case "technologies":       return 80 + Math.random() * 320;  // 80–400$
    case "materials":          return 20 + Math.random() * 100;  // 20–120$
    default:                   return 10 + Math.random() * 90;   // 10–100$
  }
}

function getRandomInt(min, max) {
  return Math.floor(Math.random() * (max - min + 1)) + min;
}


// 👉 ДОБАВЬ ЭТО

function generateSparkHistory(base) {
  const history = [base];

  for (let i = 1; i < STOCK_HISTORY_POINTS; i++) {
    const prev = history[i - 1];
    // небольшое случайное движение ±2% вокруг предыдущей цены
    const drift = 1 + (Math.random() - 0.5) * 0.004;
    const next = Math.max(0.5, prev * drift);
    history.push(next);
  }

  return history;
}

// инициализация "рыночного состояния" для всех акций из stockmap
// инициализация "рыночного состояния" для всех акций из stockmap
function initSyntheticStocks() {
  let prevSaved = null;

  // пробуем прочитать прошлое состояние из localStorage
  try {
    const raw = localStorage.getItem(STOCK_STORAGE_KEY);
    if (raw) prevSaved = JSON.parse(raw);
  } catch (e) {
    console.warn("Stock state parse error", e);
  }

  const newSaved = {};

  Object.values(stockmap).forEach(s => {
    const sym = s.symbol.toUpperCase();
    const prev = prevSaved && prevSaved[sym];

    // 1) базовая цена: либо прошлое значение с мелким дрейфом, либо новый базис
    let base;
    if (prev && typeof prev.price === "number") {
      const dailyDrift = 1 + (Math.random() - 0.5) * 0.01; // ±1% между перезагрузками
      base = Math.max(0.5, prev.price * dailyDrift);
    } else {
      base = getSyntheticBasePrice(s.sector);
    }

    // 2) капа и объём: чуть "дышат"
    const marketCap = base * getRandomInt(50_000_000, 900_000_000_000);

    const volume = prev && typeof prev.volume === "number"
      ? prev.volume * (0.9 + Math.random() * 0.2) // ≈ ±10%
      : getRandomInt(500_000, 50_000_000);

    // 3) история цены вокруг base с очень небольшими колебаниями
    const history = generateSparkHistory(base);
    const lastPrice = history[history.length - 1];

    stockState[sym] = {
      symbol: sym,
      basePrice: base,
      price: lastPrice,
      marketCap,
      volume,
      history
    };

    // то, что сохраним для следующей перезагрузки
    newSaved[sym] = {
      price: lastPrice,
      volume
    };
  });

  // сохраняем "рынок" в localStorage
  try {
    localStorage.setItem(STOCK_STORAGE_KEY, JSON.stringify(newSaved));
  } catch (e) {
    console.warn("Stock state save error", e);
  }

  // один раз заливаем цены и графики в DOM
  Object.values(stockState).forEach(updateStockDom);
}



// применяем состояние к DOM (и превью, и stocks-странице)
function updateStockDom(state) {
  const symbolLower = state.symbol.toLowerCase();
  const rows = document.querySelectorAll(`[data-stock="${symbolLower}"]`);
  if (!rows.length) return;

  const changePercent = (state.price / state.basePrice - 1) * 100;

  rows.forEach(row => {
    const priceEl = row.querySelector(".price");
    const changeEl = row.querySelector(".change");
    const volEl = row.querySelector(".volume");
    const mcEl = row.querySelector(".market-cap");
    const path = row.querySelector(".spark path, .spark svg path");

    if (priceEl) {
      priceEl.textContent = `$${state.price.toFixed(2)}`;
    }

    if (changeEl) {
      changeEl.textContent = `${changePercent.toFixed(2)}%`;
      changeEl.className = "change " + (changePercent >= 0 ? "up" : "down");
    }

    if (volEl) {
      volEl.textContent = Math.round(state.volume).toLocaleString("en-US");
    }

    if (mcEl) {
      mcEl.textContent = formatMoney(state.marketCap);
    }

    if (path) {
      // drawSpark уже есть выше в коде и умеет рисовать по массиву чисел
      drawSpark(path, state.history);
    }
  });
}


// ===================== РЕНДЕР СТРОК ДЛЯ STOCKS PAGE =====================
function renderStocksRows() {
  const container = document.getElementById("stocks-rows");
  if (!container) return;

  container.innerHTML = "";

  Object.keys(stockmap).forEach(key => {
    const s = stockmap[key];

    const row = document.createElement("div");
    row.className = "market-row";
    row.dataset.stock = s.symbol.toLowerCase();
    row.dataset.search = (s.name + " " + s.symbol).toLowerCase();
    row.dataset.sector = s.sector;

    row.innerHTML = `
  <div class="asset">
    <div class="coin">
      <img 
        src="https://logo.clearbit.com/${s.name.replace(/[^a-zA-Z]/g,"").toLowerCase()}.com"
        alt="${s.name}"
        onerror="this.onerror=null; this.src='';"
      >
    </div>
    <div class="symbol">${s.name} <span>${s.symbol}</span></div>
  </div>

  <div class="price">$0.00</div>
  <div class="change">0.00%</div>

  <div class="spark">
    <svg viewBox="0 0 100 40"><path></path></svg>
  </div>

  <div class="market-cap">—</div>
  <div class="volume">—</div>

  <button class="action-btn">Trade</button>
`;

    container.appendChild(row);
  });
  // 👉 ДОБАВЬ ЭТУ СТРОКУ:
  Object.values(stockState).forEach(updateStockDom);
}

// все тикеры для запроса
// function getAllStockTickers() {
//   return Object.values(stockmap).map(s => s.symbol.toUpperCase());
// }

// ===================== ПРИМЕНЕНИЕ ДАННЫХ К СТРОКАМ =====================
// function applyStockQuoteYahoo(q) {
//   if (!q || !q.symbol) return;

//   const symbol = q.symbol.toUpperCase();
//   const rows = document.querySelectorAll(
//     `[data-stock="${symbol.toLowerCase()}"]`
//   );
//   if (!rows.length) return;

//   const price = q.regularMarketPrice ?? q.ask ?? q.bid;
//   const changePercent = q.regularMarketChangePercent ?? 0;
//   const volume = q.regularMarketVolume ?? 0;
//   const marketCap = q.marketCap ?? 0;

//   rows.forEach(row => {
//     const priceEl = row.querySelector(".price");
//     const changeEl = row.querySelector(".change");
//     const volumeEl = row.querySelector(".volume");
//     const mcEl = row.querySelector(".market-cap");
//     const path = row.querySelector(".spark path, .spark svg path");

//     if (priceEl && price != null) {
//       priceEl.textContent = `$${price.toFixed(2)}`;
//     }

//     if (changeEl) {
//       changeEl.textContent = `${changePercent.toFixed(2)}%`;
//       changeEl.className = "change " + (changePercent >= 0 ? "up" : "down");
//     }

//     if (volumeEl) {
//       volumeEl.textContent = volume ? volume.toLocaleString("en-US") : "—";
//     }

//     if (mcEl) {
//       mcEl.textContent = marketCap ? formatMoney(marketCap) : "—";
//     }

//     if (path && price != null) {
//       const base = price;
//       const series = Array.from({ length: 40 }, () =>
//         base + (Math.random() - 0.5) * base * 0.01
//       );
//       drawSpark(path, series);
//     }
//   });
// }

// ===================== ЗАГРУЗКА КОТИРОВОК С YAHOO FINANCE =====================
// ===================== ЗАГРУЗКА КОТИРОВОК С YAHOO FINANCE (через прокси) =====================
// ===================== ЗАГРУЗКА КОТИРОВОК С YAHOO FINANCE (через прокси, чанками) =====================
// async function loadStocksOnce() {
//   try {
//     const symbols = getAllStockTickers();
//     if (!symbols.length) return;

//     const CHUNK_SIZE = 40; // по 40 тикеров за запрос
//     const chunks = [];

//     for (let i = 0; i < symbols.length; i += CHUNK_SIZE) {
//       chunks.push(symbols.slice(i, i + CHUNK_SIZE));
//     }

//     for (const chunk of chunks) {
//       const yahooUrl =
//         "https://query1.finance.yahoo.com/v7/finance/quote?symbols=" +
//         encodeURIComponent(chunk.join(","));

//       const proxyUrl =
//         "https://api.allorigins.win/raw?url=" + encodeURIComponent(yahooUrl);

//       const res = await fetch(proxyUrl);
//       const data = await res.json();

//       if (
//         !data ||
//         !data.quoteResponse ||
//         !Array.isArray(data.quoteResponse.result)
//       ) {
//         console.warn("Bad Yahoo response for chunk", chunk, data);
//         continue;
//       }

//       data.quoteResponse.result.forEach(applyStockQuoteYahoo);
//     }
//   } catch (e) {
//     console.error("Stocks load error (Yahoo via proxy)", e);
//   }
// }



// ===================== STOCKS PAGINATION + SEARCH/FILTER =====================
const STOCKS_PAGE_SIZE = 8;
let stocksPageIndex = 0;
let stocksAllRows = [];
let stocksFilteredRows = [];
let stocksPageInitialized = false;

function showStocksPage(page) {
  const total = stocksFilteredRows.length;
  const pageCount = Math.max(1, Math.ceil(total / STOCKS_PAGE_SIZE));

  if (page < 0) page = 0;
  if (page >= pageCount) page = pageCount - 1;

  stocksPageIndex = page;

  const start = stocksPageIndex * STOCKS_PAGE_SIZE;
  const end = start + STOCKS_PAGE_SIZE;

  stocksAllRows.forEach(row => (row.style.display = "none"));

  stocksFilteredRows.forEach((row, index) => {
    const isVisible = index >= start && index < end;
    row.style.display = isVisible ? "grid" : "none";
  });

  const prevBtn = document.getElementById("stocks-prev");
  const nextBtn = document.getElementById("stocks-next");

  if (prevBtn) prevBtn.disabled = stocksPageIndex === 0;
  if (nextBtn) nextBtn.disabled = stocksPageIndex >= pageCount - 1;
}

function applyStocksFilters() {
  const searchInput = document.getElementById("stocks-search");
  const sectorSelect = document.getElementById("stocks-sector-filter");

  const searchVal = (searchInput?.value || "").trim().toLowerCase();
  const sectorVal = (sectorSelect?.value || "").toLowerCase();

  stocksFilteredRows = stocksAllRows.filter(row => {
    const search = (row.dataset.search || "").toLowerCase();
    const sector = (row.dataset.sector || "").toLowerCase();

    const matchesSearch = !searchVal || search.includes(searchVal);
    const matchesSector = !sectorVal || sector === sectorVal;

    return matchesSearch && matchesSector;
  });

  if (!stocksFilteredRows.length) {
    stocksAllRows.forEach(r => (r.style.display = "none"));
    const prevBtn = document.getElementById("stocks-prev");
    const nextBtn = document.getElementById("stocks-next");
    if (prevBtn) prevBtn.disabled = true;
    if (nextBtn) nextBtn.disabled = true;
    return;
  }

  stocksPageIndex = 0;
  showStocksPage(stocksPageIndex);
}

function initStocksPagination() {
  const container = document.getElementById("stocks-rows");
  if (!container) return;

  stocksAllRows = Array.from(container.querySelectorAll(".market-row"));
  stocksFilteredRows = stocksAllRows.slice();
  stocksPageIndex = 0;

  showStocksPage(stocksPageIndex);

  const prevBtn = document.getElementById("stocks-prev");
  const nextBtn = document.getElementById("stocks-next");
  const searchInput = document.getElementById("stocks-search");
  const sectorSelect = document.getElementById("stocks-sector-filter");

  if (prevBtn) prevBtn.onclick = () => showStocksPage(stocksPageIndex - 1);
  if (nextBtn) nextBtn.onclick = () => showStocksPage(stocksPageIndex + 1);
  if (searchInput) searchInput.addEventListener("input", applyStocksFilters);
  if (sectorSelect) sectorSelect.addEventListener("change", applyStocksFilters);
}

document.addEventListener("DOMContentLoaded", () => {
  renderCryptoRows();
  renderForexRows();

  loadCryptoOnce();
  loadForexOnce();
    initSyntheticStocks();  // теперь вызывается, когда весь скрипт уже выполнен, stockmap существует
});
// ======= ПЕРЕКЛЮЧЕНИЕ HOME / SIGNUP =======

const homePage = document.getElementById("home-page");
const signupPage = document.getElementById("signup-page");

function showSignupPage() {
  if (homePage) homePage.style.display = "none";
  if (signupPage) signupPage.style.display = "flex";
  location.hash = "signup";
}

function showHomePage() {
  
  if (signupPage) signupPage.style.display = "none";
  if (loginPage) loginPage.style.display = "none";
  openHomePage();
}

// обработчики кнопок
document.getElementById("btn-top-get-started")?.addEventListener("click", showSignupPage);
document.getElementById("btn-hero-get-started")?.addEventListener("click", showSignupPage);

// логотип обратно на главную

// ===== ENABLE / DISABLE SIGNUP BUTTON =====
const emailInput = document.querySelector('input[name="email"]');
const passwordInput = document.querySelector('input[name="password"]');
const agreeCheckbox = document.querySelector('input[name="agree"]');
const signupBtn = document.getElementById("signup-submit");

function validateSignup() {
  const emailFilled = emailInput.value.trim() !== "";
  const passFilled = passwordInput.value.trim() !== "";
  const agreeChecked = agreeCheckbox.checked;

  if (emailFilled && passFilled && agreeChecked) {
    signupBtn.disabled = false;
    signupBtn.classList.remove("disabled");
  } else {
    signupBtn.disabled = true;
    signupBtn.classList.add("disabled");
  }
}

// обработчики
emailInput.addEventListener("input", validateSignup);
passwordInput.addEventListener("input", validateSignup);
agreeCheckbox.addEventListener("change", validateSignup);

// ======= ТАБЫ Email / Phone (пока просто визуально) =======

const tabs = document.querySelectorAll(".signup-tab");
tabs.forEach(tab => {
  tab.addEventListener("click", () => {
    tabs.forEach(t => t.classList.remove("signup-tab-active"));
    tab.classList.add("signup-tab-active");
    // тут можешь переключать поля, если будешь делать регистрацию по телефону
  });
});

// ======= МОДАЛКА =======

const modal = document.getElementById("verification-modal");
const timerEl = document.getElementById("modal-timer");
const modalCloseBtn = document.getElementById("modal-close-btn");
let timerId;

let lastSignupEmail = null;
let currentEmailForVerification = null;

function openVerificationModal(email) {
  currentEmailForVerification = email;
  lastSignupEmail = email; // сохраняем, чтобы потом отправить на /api/verify-email

  document.getElementById("modal-email-text").textContent =
    `The code has been sent to your email.`;
  modal.classList.add("show");

  let seconds = 60;
  timerEl.textContent = seconds + "s";
  clearInterval(timerId);
  timerId = setInterval(() => {
    seconds--;
    if (seconds <= 0) {
      clearInterval(timerId);
      timerEl.textContent = "Resend";
    } else {
      timerEl.textContent = seconds + "s";
    }
  }, 1000);
}

function closeVerificationModal() {
  modal.classList.remove("show");
  clearInterval(timerId);
}

modalCloseBtn?.addEventListener("click", closeVerificationModal);

document.getElementById("modal-confirm-btn")?.addEventListener("click", async () => {
  const codeInput = document.getElementById("verification-code");
  const code = codeInput ? codeInput.value.trim() : "";

  if (!currentEmailForVerification) {
    alert("No email for verification. Please sign up again.");
    return;
  }

  if (!code) {
    alert("Please enter the code from your email.");
    return;
  }

  try {
    const res = await fetch("/api/verify-email", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({
        email: currentEmailForVerification,
        code: code
      })
    });

    if (!res.ok) {
      const data = await res.json().catch(() => ({}));
      alert(data.detail || "Verification error");
      return;
    }

    closeVerificationModal();
setLoggedIn(true);
openCabinetPage(); // или твоя функция кабинета
  } catch (err) {
    console.error(err);
    alert("Network error during verification");
  }
});

// ======= ОТПРАВКА ФОРМЫ НА БЭКЕНД =======

const signupForm = document.getElementById("signup-form");

if (signupForm) {
  signupForm.addEventListener("submit", async (e) => {
    e.preventDefault();

    const formData = new FormData(signupForm);
    const payload = {
      email: formData.get("email"),
      password: formData.get("password"),
      referralCode: formData.get("referralCode")
    };

    try {
      const res = await fetch("/api/signup", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify(payload)
      });

      if (!res.ok) {
        alert("Error while signing up");
        return;
      }

      // успех: показываем модалку
      openVerificationModal(payload.email);
    } catch (err) {
      console.error(err);
      alert("Network error");
    }
  });
}

// кнопка Confirm – дальше можешь реализовать проверку кода


// Находим страницы
  
  const loginPage = document.getElementById("login-page");
  

  const resetEmailPage = document.getElementById("reset-email-page");
const resetConfirmPage = document.getElementById("reset-confirm-page");

let resetEmailMemory = "";

function openResetEmailPage() {
  if (signupPage) signupPage.style.display = "none";
  if (homePage) homePage.style.display = "none";
  if (loginPage) loginPage.style.display = "none";
  if (resetConfirmPage) resetConfirmPage.style.display = "none";
  if (resetEmailPage) resetEmailPage.style.display = "flex";
  window.scrollTo({ top: 0 });
  location.hash = "reset-email";
}

function openResetConfirmPage() {
  if (resetEmailPage) resetEmailPage.style.display = "none";
  if (resetConfirmPage) resetConfirmPage.style.display = "flex";
  window.scrollTo({ top: 0 });
  location.hash = "reset-confirm";
}


  // Функция открытия страницы входа
  function openLoginPage() {
    if (signupPage) signupPage.style.display = "none";
    if (homePage) homePage.style.display = "none";
    loginPage.style.display = "flex";
    window.scrollTo({ top: 0 });
    location.hash = "login";
  }

  // Функция открытия регистрации
  function openSignupPage() {
    loginPage.style.display = "none";
    if (homePage) homePage.style.display = "none";
    signupPage.style.display = "flex";
    window.scrollTo({ top: 0 });
  }

  // Кнопка "Sign in" в топбаре
  const btnTopSignIn = document.getElementById("btn-top-signin");
  if (btnTopSignIn) {
    btnTopSignIn.addEventListener("click", (e) => {
      e.preventDefault();
      openLoginPage();
    });
  }

  // Кнопка "Log in" под формой регистрации
  const linkOpenLogin = document.getElementById("link-open-login");
  if (linkOpenLogin) {
    linkOpenLogin.addEventListener("click", (e) => {
      e.preventDefault();
      openLoginPage();
    });
  }

  // Кнопка "Sign Up" на странице логина
  const linkOpenSignupFromLogin = document.getElementById("link-open-signup-from-login");
  if (linkOpenSignupFromLogin) {
    linkOpenSignupFromLogin.addEventListener("click", (e) => {
      e.preventDefault();
      openSignupPage();
    });
  }

  // Обработка формы входа
  const loginForm = document.getElementById("login-form");
  if (loginForm) {
    loginForm.addEventListener("submit", async (e) => {
  e.preventDefault();

  const email = document.getElementById("login-email").value.trim();
  const password = document.getElementById("login-password").value.trim();

  if (!email || !password) {
    alert("Введите email и пароль");
    return;
  }

  try {
    const res = await fetch("/api/login", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({ email, password })
    });

    const data = await res.json();

    if (!res.ok) {
      alert(data.detail || "Неверный email или пароль");
      return;
    }

    setLoggedIn(true);
openCabinetPage(); // или твоя функция кабинета

  } catch (err) {
    console.error(err);
    alert("Ошибка подключения к серверу");
  }
});
  }

  document.getElementById("logo").addEventListener("click", () => {
  openHomePage(); // теперь это «главный» возврат на домашку
});

document.getElementById("link-forgot-password")?.addEventListener("click", (e) => {
  e.preventDefault();
  openResetEmailPage();
});

document.getElementById("reset-back-to-login")?.addEventListener("click", (e) => {
  e.preventDefault();
  openLoginPage();
});

document.getElementById("reset-next-btn")?.addEventListener("click", async () => {
  const email = document.getElementById("reset-email").value.trim();
  if (!email) return alert("Введите email");

  // запоминаем email
  resetEmailMemory = email;

  // сразу отправляем код
  const res = await fetch("/api/password-reset/request", {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({ email })
  });

  let data = null;
  try { data = await res.json(); } catch {}

  if (!res.ok) {
    alert(data?.detail || "Ошибка отправки кода");
    return;
  }

  alert(data?.message || "Код отправлен на почту");
  openResetConfirmPage();
});


document.getElementById("reset-get-code")?.addEventListener("click", async () => {
  if (!resetEmailMemory) return alert("Сначала введите email");

  const res = await fetch("/api/password-reset/request", {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({ email: resetEmailMemory })
  });

  // читаем detail/message нормально (у тебя в signup пока alert всегда общий :contentReference[oaicite:4]{index=4})
  let data = null;
  try { data = await res.json(); } catch {}

  if (!res.ok) {
    alert(data?.detail || "Ошибка отправки кода");
    return;
  }

  alert(data?.message || "Код отправлен на почту");
});

document.getElementById("reset-confirm-btn")?.addEventListener("click", async () => {
  const p1 = document.getElementById("reset-new-pass").value.trim();
  const p2 = document.getElementById("reset-new-pass2").value.trim();
  const code = document.getElementById("reset-code").value.trim();

  if (!p1 || !p2 || !code) return alert("Заполните все поля");
  if (p1 !== p2) return alert("Пароли не совпадают");

  const res = await fetch("/api/password-reset/confirm", {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({ email: resetEmailMemory, code, new_password: p1 })
  });

  let data = null;
  try { data = await res.json(); } catch {}

  if (!res.ok) {
    alert(data?.detail || "Ошибка подтверждения");
    return;
  }

  alert("Пароль изменён. Теперь войдите заново.");
  openLoginPage();
});

const AUTH_KEY = "astrax_logged_in";

function isLoggedIn(){
  return localStorage.getItem(AUTH_KEY) === "1";
}

function setLoggedIn(v){
  localStorage.setItem(AUTH_KEY, v ? "1" : "0");
  applyAuthUI();
}

function applyAuthUI(){
  const guest = document.getElementById("topbar-guest");
  const auth  = document.getElementById("topbar-auth");
  const heroBtn = document.getElementById("btn-hero-get-started");

  if (isLoggedIn()) {
    if (guest) guest.style.display = "none";
    if (auth) auth.style.display = "flex";
    if (heroBtn) heroBtn.style.display = "none";
  } else {
    if (guest) guest.style.display = "flex";
    if (auth) auth.style.display = "none";
    if (heroBtn) heroBtn.style.display = "";
  }
}


window.addEventListener("load", () => {
  applyAuthUI();

  // если залогинен и нет конкретной страницы в hash — сразу в кабинет
  if (isLoggedIn() && (!location.hash || location.hash === "#home")) {
    openCabinetPage();
    return;
  }

  switch (location.hash) {
    case "#about":      openAboutPage(); break;
    case "#crypto":     openCryptoPage(); break;
    case "#forex":      openForexPage(); break;
    case "#stocks":     openStocksPage(); break;

    case "#chat":       openChatPage(); break;
    case "#feedback":   openFeedbackPage(); break;
    case "#fees":       openFeesPage(); break;
    case "#agreement":  openAgreementPage(); break;
    case "#privacy":    openPrivacyPage(); break;
    case "#disclaimer": openDisclaimerPage(); break;
    case "#risk":       openRiskPage(); break;

    case "#cabinet":    openCabinetPage(); break;

    default:
      openHomePage();
      break;
  }
});


function hideAllPages() {
  [
    "about-page","news-page","blog-page",
    "chat-page","feedback-page","fees-page",
    "agreement-page","privacy-page","disclaimer-page","risk-page",
    "crypto-page","forex-page","stocks-page",
    "signup-page","login-page","reset-email-page","reset-confirm-page",
    "chat-page","feedback-page","cabinet-page","fees-page",
  ].forEach(id => {
    const el = document.getElementById(id);
    if (el) el.style.display = "none";
  });
}

document.addEventListener("DOMContentLoaded", () => {
  const form = document.getElementById("feedback-form");
  const toast = document.getElementById("feedback-toast");

  if (!form || !toast) {
    console.warn("feedback-form or feedback-toast not found");
    return;
  }

  form.addEventListener("submit", (e) => {
    e.preventDefault();

    toast.classList.add("show");
    setTimeout(() => toast.classList.remove("show"), 3000);

    form.reset();
    applyAuthUI();
  });
});
 // Custom select (Feedback)
  document.addEventListener("click", (e) => {
    document.querySelectorAll("#feedback-page .ax-select.open").forEach(sel => {
      if (!sel.contains(e.target)) sel.classList.remove("open");
    });
  });

  document.querySelectorAll("#feedback-page .ax-select").forEach(sel => {
    const btn = sel.querySelector(".ax-select-btn");
    const valueEl = sel.querySelector(".ax-select-value");
    const hidden = sel.querySelector('input[type="hidden"]');

    btn.addEventListener("click", () => {
      sel.classList.toggle("open");
    });

    sel.querySelectorAll(".ax-select-opt").forEach(opt => {
      opt.addEventListener("click", () => {
        const v = opt.dataset.value || opt.textContent.trim();
        hidden.value = v;
        valueEl.textContent = v;
        sel.classList.remove("open");
      });
    });
  });

  
  document.querySelectorAll('.file-upload input[type="file"]').forEach(input => {
    const text = input.closest('.file-upload').querySelector('.file-upload-text');

    input.addEventListener('change', () => {
      if (input.files.length) {
        text.textContent = input.files[0].name;
      } else {
        text.textContent = 'Image / Video';
      }
    });
  });

  const assetsDD = document.getElementById("assets-dropdown");
if (assetsDD) {
  assetsDD.querySelector(".assets-trigger")?.addEventListener("click", (e) => {
    e.preventDefault();
    assetsDD.classList.toggle("open");
  });

  document.addEventListener("click", (e) => {
    if (!assetsDD.contains(e.target)) assetsDD.classList.remove("open");
  });
}

const assetsTrigger = document.getElementById("assets-trigger");
const assetsDropdown = document.getElementById("assets-dropdown");

if (assetsTrigger) {
  assetsTrigger.addEventListener("click", (e) => {
    e.preventDefault();
    e.stopPropagation();

    // закрываем dropdown, если открыт
    assetsDropdown?.classList.remove("open");

    // переход в личный кабинет
    openCabinetPage();
  });
}

</script>
<footer class="footer">
  <div class="footer-inner">

    <!-- Левая колонка: логотип + соцсети + копирайт -->
    <div class="footer-brand">
      <div class="footer-logo">AstraX</div>

      

      <div class="footer-copy">
        © 2020–2025 AstraX. All rights reserved.
      </div>
    </div>

    <!-- Правая часть: колонки ссылок -->
    <div class="footer-columns">

      <div class="footer-col">
        <h4>Services</h4>
        <a href="#" onclick="openAboutPage(); return false;">About Us</a>
        <a href="#" onclick="openNewsPage(); return false;">News</a>
        <a href="#" onclick="openBlogPage(); return false;">Blog</a>

        <a href="https://ru.tradingview.com">TradingView</a>
      </div>

      <div class="footer-col">
        <h4>User Support</h4>
        <a href="#" onclick="openChatPage(); return false;">24/7 Chat Support</a>
<a href="#" onclick="openFeedbackPage(); return false;">Feedback</a>
<a href="#" onclick="openFeesPage(); return false;">Trading Fees</a>
      </div>

      <!-- <div class="footer-col">
        <h4>Company</h4>
        <a href="#">About Us</a>
        <a href="#">Careers</a>
        <a href="#">Affiliate Program</a>
        <a href="#">Proof of Reserves</a>
        <a href="#">Announcement Center</a>
        <a href="#">Blog</a>
      </div> -->

      <div class="footer-col">
        <h4>Terms</h4>
        <a href="#" onclick="openAgreementPage(); return false;">Customer Agreement</a>
<a href="#" onclick="openPrivacyPage(); return false;">Privacy Policy</a>
<a href="#" onclick="openDisclaimerPage(); return false;">Disclaimer</a>
<a href="#" onclick="openRiskPage(); return false;">Risk Notice</a>
      </div>

    </div>
  </div>
</footer>
<div id="feedback-toast" class="toast">
  Submitted! Thank you for your suggestion. We will conduct a review and get back to you in a timely manner.
</div>
</body>
</html>
